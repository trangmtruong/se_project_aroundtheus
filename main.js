!function(){"use strict";const e={formSelector:".modal__form",inputSelector:".modal__input",submitButtonSelector:".modal__button",inactiveButtonClass:"modal__button_disabled",inputErrorClass:"modal__input_type_error",errorClass:"modal__error_visible"};class t{constructor(e,t,s,r,i,n){this._data=e,this._name=e.name,this._link=e.link,this._handleImageClick=s,this._handleDeleteClick=r,this._cardSelector=t,this.isLiked=e.isLiked,this._id=e._id,this._handleUnlikingIcon=i,this._handleLikingIcon=n}_setEventListeners(){this._likeButton.addEventListener("click",(()=>{!0===this.isLiked?this._handleUnlikingIcon(this):this._handleLikingIcon(this)})),this._deleteButton=this._cardElement.querySelector(".card__delete-button"),this._deleteButton.addEventListener("click",(()=>{this._handleDeleteClick(this)})),this._cardImage.addEventListener("click",(()=>{this._handleImageClick(this._data)}))}_setLikeState(){!0===this.isLiked?this.fillInLikeIcon():this.clearLikeIcon()}fillInLikeIcon(){this._likeButton.classList.add("card__like-button_active")}clearLikeIcon(){this._likeButton.classList.remove("card__like-button_active")}_handleLikeIcon(){this._likeButton.classList.toggle("card__like-button_active")}handleDeleteCard(){this._cardElement.remove(),this._cardElement=null}getCardElement(){return this._cardElement=document.querySelector(this._cardSelector).content.querySelector(".card").cloneNode(!0),this._likeButton=this._cardElement.querySelector(".card__like-button"),this._setLikeState(),this._cardImage=this._cardElement.querySelector(".card__image"),this._cardTitle=this._cardElement.querySelector(".card__title"),this._cardImage.src=this._link,this._cardImage.alt=this._name,this._cardTitle.textContent=this._name,this._setEventListeners(),this._cardElement}}class s{constructor(e,t){this._formEl=document.querySelector(t),this._config=e,this._inputSelector=e.inputSelector,this._inputEls=[...this._formEl.querySelectorAll(this._inputSelector)],this._submitButtonSelector=e.submitButtonSelector,this._inactiveButtonClass=e.inactiveButtonClass,this._inputErrorClass=e.inputErrorClass,this._errorClass=e.errorClass,this._submitButton=this._formEl.querySelector(this._submitButtonSelector)}_showInputError(e){const t=this._formEl.querySelector(`#${e.id}-error`);e.classList.add(this._inputErrorClass),t.textContent=e.validationMessage,t.classList.add(this._errorClass)}_hideInputError(e){const t=this._formEl.querySelector(`#${e.id}-error`);e.classList.remove(this._inputErrorClass),t.textContent="",t.classList.remove(this._errorClass)}_checkInputValidity(e){e.validity.valid?this._hideInputError(e):this._showInputError(e)}_hasValidInput(){return this._inputEls.every((e=>e.validity.valid))}_toggleButtonState(){this._hasValidInput()?(this._submitButton.classList.remove(this._inactiveButtonClass),this._submitButton.disabled=!1):(this._submitButton.classList.add(this._inactiveButtonClass),this._submitButton.disabled=!0)}_setEventListeners(){this._inputEls.forEach((e=>{e.addEventListener("input",(t=>{this._checkInputValidity(e),this._toggleButtonState()}))}))}resetValidation(){this._inputEls.forEach((e=>{this._hideInputError(e)})),this._toggleButtonState()}enableValidation(){this._formEl.addEventListener("submit",(e=>{e.preventDefault()})),this._setEventListeners()}}class r{constructor(e){this._popupElement=document.querySelector(e),this._closeButton=this._popupElement.querySelector(".modal__close")}open(){this._popupElement.classList.add("modal_opened"),document.addEventListener("keydown",this._handleEscClose)}close(){this._popupElement.classList.remove("modal_opened"),document.removeEventListener("keydown",this._handleEscClose)}_handleEscClose=e=>{"Escape"===e.key&&this.close()};setEventListeners(){this._popupElement.addEventListener("mousedown",(e=>{e.target!==this._closeButton&&e.target!==this._popupElement||this.close()}))}}class i extends r{constructor(e,t){super(e),this._popupForm=this._popupElement.querySelector(".modal__form"),this._handleFormSubmit=t,this._inputEls=[...this._popupElement.querySelectorAll(".modal__input")],this._submitButton=this._popupForm.querySelector(".modal__button"),this._submitButtonText=this._submitButton.textContent,this.setEventListeners()}renderLoading(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Saving...";this._submitButton.textContent=e?t:this._submitButtonText}_getInputValues(){const e={};return this._inputEls.forEach((t=>{e[t.name]=t.value})),e}setInputValues(e){for(let t=0;t<e.length;t++)this._inputEls[t].value=e[t]}setEventListeners(){super.setEventListeners(),this._popupForm.addEventListener("submit",(e=>{e.preventDefault(),this._handleFormSubmit(this._getInputValues())}))}}const n=document.querySelector("#profile-edit-button"),o=document.querySelector("#add-card-modal").querySelector(".modal__form"),a=document.querySelector(".profile__add-button"),l=document.querySelector(".profile__edit-avatar-button"),d=new class{constructor(e){let{baseUrl:t,headers:s}=e;this._baseUrl=t,this._headers=s}_checkResponse(e){return e.ok?e.json():Promise.reject(`Error: ${e.status}`)}_request(e,t){return fetch(e,t).then(this._checkResponse)}getInitialCards(){return this._request(`${this._baseUrl}/cards`,{headers:this._headers})}getUsersInfo(){return this._request(`${this._baseUrl}/users/me`,{headers:this._headers})}updateProfileInfo(e){let{title:t,description:s}=e;return this._request(`${this._baseUrl}/users/me`,{headers:this._headers,method:"PATCH",body:JSON.stringify({name:t,about:s})})}updateAvatar(e){return this._request(`${this._baseUrl}/users/me/avatar`,{headers:this._headers,method:"PATCH",body:JSON.stringify({avatar:e})})}createCard(e){let{name:t,link:s}=e;return this._request(`${this._baseUrl}/cards`,{headers:this._headers,method:"POST",body:JSON.stringify({name:t,link:s})})}likeCard(e){return this._request(`${this._baseUrl}/cards/${e}/likes`,{headers:this._headers,method:"PUT"})}dislikeCard(e){return this._request(`${this._baseUrl}/cards/${e}/likes`,{headers:this._headers,method:"DELETE"})}deleteCard(e){return this._request(`${this._baseUrl}/cards/${e}`,{headers:this._headers,method:"DELETE"})}}({baseUrl:"https://around-api.en.tripleten-services.com/v1",headers:{authorization:"5f364a70-6354-4d7f-b3e1-21a8fcface2d","Content-Type":"application/json"}}),c=new s(e,"#profile-edit-form"),h=new s(e,"#add-card-form"),_=new s(e,"#edit-avatar-form"),u=new i("#profile-edit-modal",(function(e){u.renderLoading(!0),d.updateProfileInfo(e).then((t=>{f.setUserInfo(e.title,e.description),u.close()})).catch((e=>{console.error(e),alert(`${e}. Failed to update profile info :(`)})).finally((()=>{u.renderLoading(!1)}))})),m=new i("#add-card-modal",(function(e){m.renderLoading(!0),d.createCard(e).then((e=>{g.addItem(e),m.close(),o.reset(),h.resetValidation()})).catch((e=>{console.error(e),alert(`${e}. Failed to add new card :(`)})).finally((()=>{m.renderLoading(!1)}))})),p=new i("#edit-avatar-modal",(function(e){p.renderLoading(!0),d.updateAvatar(e.link).then((e=>{f.setUserAvatar(e.avatar),p.close()})).catch((e=>{console.error(e),alert(`${e}. Failed to edit avatar :(`)})).finally((()=>{p.renderLoading(!1)}))})),E=new class extends r{constructor(e){super(e),this._imageEl=this._popupElement.querySelector(".modal__image"),this._captionEl=this._popupElement.querySelector(".modal__preview-title"),this.setEventListeners()}open(e,t){this._imageEl.src=t,this._imageEl.alt=e,this._captionEl.textContent=e,super.open()}}("#preview-image-modal"),v=new class extends r{constructor(e,t){super(e),this._popupForm=this._popupElement.querySelector(".modal__form"),this._handleFormSubmit=t,this.setEventListeners()}setSubmitHandler(e){this._handleFormSubmit=e}setEventListeners(){super.setEventListeners(),this._popupForm.addEventListener("submit",(e=>{e.preventDefault(),this._handleFormSubmit()}))}}("#delete-confirmation-modal"),f=new class{constructor(e){let{nameSelector:t,jobSelector:s,avatarSelector:r}=e;this._nameEl=document.querySelector(t),this._jobEl=document.querySelector(s),this._avatarEl=document.querySelector(r)}getUserInfo(){return{name:this._nameEl.textContent,job:this._jobEl.textContent}}setUserInfo(e,t){this._nameEl.textContent=e,this._jobEl.textContent=t}setUserAvatar(e){this._avatarEl.src=e}}({nameSelector:".profile__title",jobSelector:".profile__description",avatarSelector:".profile__image"});function b(e){E.open(e.name,e.link)}function L(e){d.likeCard(e._id).then((()=>{e.fillInLikeIcon(),e.isLiked=!0})).catch((e=>{console.error(e),alert(`${e}. Failed to like card :(`)}))}function S(e){d.dislikeCard(e._id).then((()=>{e.clearLikeIcon(),e.isLiked=!1})).catch((e=>{console.error(e),alert(`${e}. Failed to unlike card :(`)}))}function k(e){v.open(),v.setSubmitHandler((function(){d.deleteCard(e._id).then((()=>{v.close(),e.handleDeleteCard()})).catch((e=>{console.error(e),alert(`${e}. Failed to delete card :(`)}))}))}n.addEventListener("click",(()=>{const e=f.getUserInfo(),t=[e.name,e.job];u.setInputValues(t),c.resetValidation(),u.open()})),l.addEventListener("click",(()=>{p.open()})),a.addEventListener("click",(()=>m.open())),c.enableValidation(),h.enableValidation(),_.enableValidation();const g=new class{constructor(e,t){let{items:s,renderer:r}=e;this._items=s,this._renderer=r,this._container=document.querySelector(t)}addItem(e){const t=this._renderer(e);this._container.prepend(t)}renderItems(){this._items.forEach((e=>{this.addItem(e)}))}setItems(e){this._items=e}}({items:[],renderer:function(e){return new t(e,"#card-template",b,k,S,L).getCardElement()}},".cards__list");d.getInitialCards().then((e=>{g.setItems(e.reverse()),g.renderItems()})).catch((e=>{console.error(e),alert(`${e}. Failed to load cards :(`)})),d.getUsersInfo().then((e=>{f.setUserAvatar(e.avatar),f.setUserInfo(e.name,e.about)})).catch((e=>{console.error(e),alert(`${e}. Failed to get user info :(`)}))}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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cGFjazovL3ByYWN0aWN1bS8uL3NyYy91dGlscy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvQ2FyZC5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL1BvcHVwLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL3BhZ2VzL2luZGV4LmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL0FQSS5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhDb25maXJtYXRpb24uanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvVXNlckluZm8uanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvU2VjdGlvbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgaW5pdGlhbENhcmRzID0gW1xuICB7XG4gICAgbmFtZTogXCJZb3NlbWl0ZSBWYWxsZXlcIixcbiAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvYXJvdW5kLXByb2plY3QveW9zZW1pdGUuanBnXCIsXG4gIH0sXG4gIHtcbiAgICBuYW1lOiBcIkxha2UgTG91aXNlXCIsXG4gICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3NvZnR3YXJlLWVuZ2luZWVyL2Fyb3VuZC1wcm9qZWN0L2xha2UtbG91aXNlLmpwZ1wiLFxuICB9LFxuICB7XG4gICAgbmFtZTogXCJCYWxkIE1vdW50YWluc1wiLFxuICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9zb2Z0d2FyZS1lbmdpbmVlci9hcm91bmQtcHJvamVjdC9iYWxkLW1vdW50YWlucy5qcGdcIixcbiAgfSxcbiAge1xuICAgIG5hbWU6IFwiTGF0ZW1hclwiLFxuICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9zb2Z0d2FyZS1lbmdpbmVlci9hcm91bmQtcHJvamVjdC9sYXRlbWFyLmpwZ1wiLFxuICB9LFxuICB7XG4gICAgbmFtZTogXCJWYW5vaXNlIE5hdGlvbmFsIFBhcmtcIixcbiAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvYXJvdW5kLXByb2plY3QvdmFub2lzZS5qcGdcIixcbiAgfSxcbiAge1xuICAgIG5hbWU6IFwiTGFnbyBkaSBCcmFpZXNcIixcbiAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvYXJvdW5kLXByb2plY3QvbGFnby5qcGdcIixcbiAgfSxcbl07XG5leHBvcnQgY29uc3QgY29uZmlnID0ge1xuICBmb3JtU2VsZWN0b3I6IFwiLm1vZGFsX19mb3JtXCIsXG4gIGlucHV0U2VsZWN0b3I6IFwiLm1vZGFsX19pbnB1dFwiLFxuICBzdWJtaXRCdXR0b25TZWxlY3RvcjogXCIubW9kYWxfX2J1dHRvblwiLFxuICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiBcIm1vZGFsX19idXR0b25fZGlzYWJsZWRcIixcbiAgaW5wdXRFcnJvckNsYXNzOiBcIm1vZGFsX19pbnB1dF90eXBlX2Vycm9yXCIsXG4gIGVycm9yQ2xhc3M6IFwibW9kYWxfX2Vycm9yX3Zpc2libGVcIixcbn07XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBDYXJkIHtcbiAgY29uc3RydWN0b3IoXG4gICAgZGF0YSxcbiAgICBjYXJkU2VsZWN0b3IsXG4gICAgaGFuZGxlSW1hZ2VDbGljayxcbiAgICBoYW5kbGVEZWxldGVDbGljayxcbiAgICBoYW5kbGVVbmxpa2luZ0ljb24sXG4gICAgaGFuZGxlTGlraW5nSWNvblxuICApIHtcbiAgICB0aGlzLl9kYXRhID0gZGF0YTtcbiAgICB0aGlzLl9uYW1lID0gZGF0YS5uYW1lO1xuICAgIHRoaXMuX2xpbmsgPSBkYXRhLmxpbms7XG4gICAgdGhpcy5faGFuZGxlSW1hZ2VDbGljayA9IGhhbmRsZUltYWdlQ2xpY2s7XG4gICAgdGhpcy5faGFuZGxlRGVsZXRlQ2xpY2sgPSBoYW5kbGVEZWxldGVDbGljaztcbiAgICB0aGlzLl9jYXJkU2VsZWN0b3IgPSBjYXJkU2VsZWN0b3I7XG4gICAgdGhpcy5pc0xpa2VkID0gZGF0YS5pc0xpa2VkO1xuICAgIHRoaXMuX2lkID0gZGF0YS5faWQ7XG4gICAgdGhpcy5faGFuZGxlVW5saWtpbmdJY29uID0gaGFuZGxlVW5saWtpbmdJY29uO1xuICAgIHRoaXMuX2hhbmRsZUxpa2luZ0ljb24gPSBoYW5kbGVMaWtpbmdJY29uO1xuICAgIC8vbW92ZWQgaW50byBjb25zdHJ1Y3RvclxuICAgIC8vIHRoaXMuX2xpa2VCdXR0b24gPSB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2xpa2UtYnV0dG9uXCIpO1xuXG4gICAgLy8gdGhpcy5fY2FyZEVsZW1lbnQgPSBkb2N1bWVudFxuICAgIC8vICAgLnF1ZXJ5U2VsZWN0b3IodGhpcy5fY2FyZFNlbGVjdG9yKVxuICAgIC8vICAgLmNvbnRlbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkXCIpXG4gICAgLy8gICAuY2xvbmVOb2RlKHRydWUpO1xuICAgIC8vIHRoaXMuX3NldExpa2VTdGF0ZSgpO1xuICAgIC8vIHRoaXMuX2hhbmRsZURlbGV0ZUNsaWNrID0gaGFuZGxlRGVsZXRlQ2xpY2s7XG5cbiAgICAvLyB0aGlzLl9jYXJkRWxlbWVudCA9IGRvY3VtZW50XG4gICAgLy8gICAucXVlcnlTZWxlY3Rvcih0aGlzLl9jYXJkU2VsZWN0b3IpXG4gICAgLy8gICAuY29udGVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRcIilcbiAgICAvLyAgIC5jbG9uZU5vZGUodHJ1ZSk7XG4gICAgLy8gdGhpcy5fY2FyZEltYWdlID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19pbWFnZVwiKTtcbiAgICAvLyB0aGlzLl9jYXJkVGl0bGUgPSB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX3RpdGxlXCIpO1xuICAgIC8vIHRoaXMuX2xpa2VCdXR0b24gPSB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2xpa2UtYnV0dG9uXCIpO1xuICAgIC8vIHRoaXMuX2RlbGV0ZUJ1dHRvbiA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgLy8gICBcIi5jYXJkX19kZWxldGUtYnV0dG9uXCJcbiAgICAvLyApO1xuICB9XG5cbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIC8vXCIuY2FyZF9fbGlrZS1idXR0b25cIlxuICAgIHRoaXMuX2xpa2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIGlmICh0aGlzLmlzTGlrZWQgPT09IHRydWUpIHtcbiAgICAgICAgLy8gY2FsbCBhIGZ1bmN0aW9uIGZyb20gaW5kZXguanMgdG8gdW5saWtlIHRoZSBidXR0b25cbiAgICAgICAgdGhpcy5faGFuZGxlVW5saWtpbmdJY29uKHRoaXMpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy9vdGhlcndpc2UgeW91IGNhbiBjYWxsIGEgZGlmZmVyZW50IGZ1bmN0aW9uIGZvcm0gaW5kZXguanMgdG8gbGlrZSB0aGUgYnV0dG9uXG4gICAgICAgIHRoaXMuX2hhbmRsZUxpa2luZ0ljb24odGhpcyk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvL1wiLmNhcmRfX2RlbGV0ZS1idXR0b25cIlxuICAgIHRoaXMuX2RlbGV0ZUJ1dHRvbiA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICBcIi5jYXJkX19kZWxldGUtYnV0dG9uXCJcbiAgICApO1xuICAgIC8vIHRoaXMuX2RlbGV0ZUJ1dHRvbiA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgLy8gICBcIi5jYXJkX19kZWxldGUtYnV0dG9uXCJcbiAgICAvLyApO1xuICAgIHRoaXMuX2RlbGV0ZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgLy9vcGVucyBkZWxldGUgY29uZmlybWF0aW9uIG1vZGFsXG4gICAgICB0aGlzLl9oYW5kbGVEZWxldGVDbGljayh0aGlzKTtcbiAgICB9KTtcbiAgICAvL1wiLmNhcmRfX2ltYWdlXCJcbiAgICB0aGlzLl9jYXJkSW1hZ2UuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIHRoaXMuX2hhbmRsZUltYWdlQ2xpY2sodGhpcy5fZGF0YSk7XG4gICAgfSk7XG4gIH1cblxuICBfc2V0TGlrZVN0YXRlKCkge1xuICAgIGlmICh0aGlzLmlzTGlrZWQgPT09IHRydWUpIHtcbiAgICAgIHRoaXMuZmlsbEluTGlrZUljb24oKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5jbGVhckxpa2VJY29uKCk7XG4gICAgfVxuICB9XG5cbiAgZmlsbEluTGlrZUljb24oKSB7XG4gICAgdGhpcy5fbGlrZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwiY2FyZF9fbGlrZS1idXR0b25fYWN0aXZlXCIpO1xuICB9XG4gIGNsZWFyTGlrZUljb24oKSB7XG4gICAgdGhpcy5fbGlrZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKFwiY2FyZF9fbGlrZS1idXR0b25fYWN0aXZlXCIpO1xuICB9XG5cbiAgX2hhbmRsZUxpa2VJY29uKCkge1xuICAgIHRoaXMuX2xpa2VCdXR0b24uY2xhc3NMaXN0LnRvZ2dsZShcImNhcmRfX2xpa2UtYnV0dG9uX2FjdGl2ZVwiKTtcbiAgfVxuICBoYW5kbGVEZWxldGVDYXJkKCkge1xuICAgIHRoaXMuX2NhcmRFbGVtZW50LnJlbW92ZSgpO1xuICAgIHRoaXMuX2NhcmRFbGVtZW50ID0gbnVsbDtcbiAgfVxuXG4gIGdldENhcmRFbGVtZW50KCkge1xuICAgIC8vZnJvbSBnZXRDYXJkRWxlbWVudFxuICAgIC8vZ2V0IHRoZSBjYXJkIHZpZXdcbiAgICB0aGlzLl9jYXJkRWxlbWVudCA9IGRvY3VtZW50XG4gICAgICAucXVlcnlTZWxlY3Rvcih0aGlzLl9jYXJkU2VsZWN0b3IpXG4gICAgICAuY29udGVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRcIilcbiAgICAgIC5jbG9uZU5vZGUodHJ1ZSk7XG4gICAgdGhpcy5fbGlrZUJ1dHRvbiA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fbGlrZS1idXR0b25cIik7XG5cbiAgICB0aGlzLl9zZXRMaWtlU3RhdGUoKTtcbiAgICB0aGlzLl9jYXJkSW1hZ2UgPSB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2ltYWdlXCIpO1xuICAgIHRoaXMuX2NhcmRUaXRsZSA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fdGl0bGVcIik7XG4gICAgdGhpcy5fY2FyZEltYWdlLnNyYyA9IHRoaXMuX2xpbms7XG4gICAgdGhpcy5fY2FyZEltYWdlLmFsdCA9IHRoaXMuX25hbWU7XG4gICAgdGhpcy5fY2FyZFRpdGxlLnRleHRDb250ZW50ID0gdGhpcy5fbmFtZTtcblxuICAgIC8vc2V0IGV2ZW50IGxpc3RlbmVyc1xuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgcmV0dXJuIHRoaXMuX2NhcmRFbGVtZW50O1xuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBGb3JtVmFsaWRhdG9yIHtcbiAgY29uc3RydWN0b3IoY29uZmlnLCBmb3JtU2VsZWN0b3IpIHtcbiAgICB0aGlzLl9mb3JtRWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGZvcm1TZWxlY3Rvcik7XG5cbiAgICB0aGlzLl9jb25maWcgPSBjb25maWc7XG5cbiAgICB0aGlzLl9pbnB1dFNlbGVjdG9yID0gY29uZmlnLmlucHV0U2VsZWN0b3I7XG4gICAgdGhpcy5faW5wdXRFbHMgPSBbLi4udGhpcy5fZm9ybUVsLnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5faW5wdXRTZWxlY3RvcildO1xuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvblNlbGVjdG9yID0gY29uZmlnLnN1Ym1pdEJ1dHRvblNlbGVjdG9yO1xuICAgIHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MgPSBjb25maWcuaW5hY3RpdmVCdXR0b25DbGFzcztcbiAgICB0aGlzLl9pbnB1dEVycm9yQ2xhc3MgPSBjb25maWcuaW5wdXRFcnJvckNsYXNzO1xuICAgIHRoaXMuX2Vycm9yQ2xhc3MgPSBjb25maWcuZXJyb3JDbGFzcztcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24gPSB0aGlzLl9mb3JtRWwucXVlcnlTZWxlY3Rvcih0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3Rvcik7XG4gIH1cbiAgX3Nob3dJbnB1dEVycm9yKGlucHV0RWwpIHtcbiAgICBjb25zdCBlcnJvck1lc3NhZ2VFbCA9IHRoaXMuX2Zvcm1FbC5xdWVyeVNlbGVjdG9yKGAjJHtpbnB1dEVsLmlkfS1lcnJvcmApO1xuXG4gICAgaW5wdXRFbC5jbGFzc0xpc3QuYWRkKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XG4gICAgZXJyb3JNZXNzYWdlRWwudGV4dENvbnRlbnQgPSBpbnB1dEVsLnZhbGlkYXRpb25NZXNzYWdlO1xuICAgIGVycm9yTWVzc2FnZUVsLmNsYXNzTGlzdC5hZGQodGhpcy5fZXJyb3JDbGFzcyk7XG4gIH1cbiAgX2hpZGVJbnB1dEVycm9yKGlucHV0RWwpIHtcbiAgICBjb25zdCBlcnJvck1lc3NhZ2VFbCA9IHRoaXMuX2Zvcm1FbC5xdWVyeVNlbGVjdG9yKGAjJHtpbnB1dEVsLmlkfS1lcnJvcmApO1xuICAgIGlucHV0RWwuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbnB1dEVycm9yQ2xhc3MpO1xuICAgIGVycm9yTWVzc2FnZUVsLnRleHRDb250ZW50ID0gXCJcIjtcbiAgICBlcnJvck1lc3NhZ2VFbC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2Vycm9yQ2xhc3MpO1xuICB9XG4gIF9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbCkge1xuICAgIGlmICghaW5wdXRFbC52YWxpZGl0eS52YWxpZCkge1xuICAgICAgdGhpcy5fc2hvd0lucHV0RXJyb3IoaW5wdXRFbCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWwpO1xuICAgIH1cbiAgfVxuICBfaGFzVmFsaWRJbnB1dCgpIHtcbiAgICByZXR1cm4gdGhpcy5faW5wdXRFbHMuZXZlcnkoKGlucHV0RWwpID0+IHtcbiAgICAgIHJldHVybiBpbnB1dEVsLnZhbGlkaXR5LnZhbGlkO1xuICAgIH0pO1xuICB9XG4gIF90b2dnbGVCdXR0b25TdGF0ZSgpIHtcbiAgICBpZiAoIXRoaXMuX2hhc1ZhbGlkSW5wdXQoKSkge1xuICAgICAgdGhpcy5fc3VibWl0QnV0dG9uLmNsYXNzTGlzdC5hZGQodGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyk7XG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b24uZGlzYWJsZWQgPSB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcbiAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xuICAgIH1cbiAgfVxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5faW5wdXRFbHMuZm9yRWFjaCgoaW5wdXRFbCkgPT4ge1xuICAgICAgaW5wdXRFbC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgKGUpID0+IHtcbiAgICAgICAgdGhpcy5fY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0RWwpO1xuICAgICAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICByZXNldFZhbGlkYXRpb24oKSB7XG4gICAgdGhpcy5faW5wdXRFbHMuZm9yRWFjaCgoaW5wdXRFbCkgPT4ge1xuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbCk7XG4gICAgICAvLyAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XG4gICAgfSk7XG4gICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcbiAgfVxuXG4gIGVuYWJsZVZhbGlkYXRpb24oKSB7XG4gICAgdGhpcy5fZm9ybUVsLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGUpID0+IHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB9KTtcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHBvcHVwU2VsZWN0b3IpO1xuICAgIHRoaXMuX2Nsb3NlQnV0dG9uID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2Nsb3NlXCIpO1xuICB9XG5cbiAgb3BlbigpIHtcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcIm1vZGFsX29wZW5lZFwiKTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XG4gIH1cbiAgLy9UaGUgb3BlbigpIG1ldGhvZCBzaG91bGQgYmUgY2FsbGVkIGluIHRoZSBwcmVleGlzdGluZyBldmVudCBoYW5kbGVycyBpbiBpbmRleC5qc1xuXG4gIGNsb3NlKCkge1xuICAgIHRoaXMuX3BvcHVwRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwibW9kYWxfb3BlbmVkXCIpO1xuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcbiAgfVxuXG4gIF9oYW5kbGVFc2NDbG9zZSA9IChlKSA9PiB7XG4gICAgLy9jbG9zaW5nIHRoZSBwb3B1cCBieSBwcmVzc2luZyB0aGUgRXNjIGtleVxuICAgIGlmIChlLmtleSA9PT0gXCJFc2NhcGVcIikge1xuICAgICAgdGhpcy5jbG9zZSgpO1xuICAgIH1cbiAgfTtcblxuICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICAvL2FkZHMgYSBjbGljayBldmVudCBsaXN0ZW5lciB0byB0aGUgY2xvc2UgaWNvbiBvZiB0aGUgcG9wdXBcbiAgICAvL1RoZSBtb2RhbCB3aW5kb3cgc2hvdWxkIGFsc28gY2xvc2Ugd2hlbiB1c2VycyBjbGljayBvbiB0aGUgc2hhZGVkIGFyZWEgYXJvdW5kIHRoZSBmb3JtLlxuICAgIHRoaXMuX3BvcHVwRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIChlKSA9PiB7XG4gICAgICBpZiAoZS50YXJnZXQgPT09IHRoaXMuX2Nsb3NlQnV0dG9uIHx8IGUudGFyZ2V0ID09PSB0aGlzLl9wb3B1cEVsZW1lbnQpIHtcbiAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59XG4vL1lvdSB3b27igJl0IGluc3RhbnRpYXRlIHlvdXIgUG9wdXAgY2xhc3MgZGlyZWN0bHkgaW4gaW5kZXguanNcbi8vIGluc3RlYWQsIHlvdeKAmWxsIGluc3RhbnRpYXRlIGl0cyBjaGlsZHJlbiBjbGFzc2VzXG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcbi8vIGNoaWxkIG9mIFBvcHVwXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhGb3JtIGV4dGVuZHMgUG9wdXAge1xuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yLCBoYW5kbGVGb3JtU3VibWl0KSB7XG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XG4gICAgdGhpcy5fcG9wdXBGb3JtID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2Zvcm1cIik7XG4gICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCA9IGhhbmRsZUZvcm1TdWJtaXQ7XG4gICAgdGhpcy5faW5wdXRFbHMgPSBbLi4udGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIubW9kYWxfX2lucHV0XCIpXTtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24gPSB0aGlzLl9wb3B1cEZvcm0ucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fYnV0dG9uXCIpO1xuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvblRleHQgPSB0aGlzLl9zdWJtaXRCdXR0b24udGV4dENvbnRlbnQ7XG4gICAgdGhpcy5zZXRFdmVudExpc3RlbmVycygpO1xuICAgIC8vSXQgYWNjZXB0cyB0d28gYXJndW1lbnRzOiB0aGUgcG9wdXAgc2VsZWN0b3IgYW5kIGEgY2FsbGJhY2sgZnVuY3Rpb25cbiAgICAvLyB3aGljaCBQb3B1cFdpdGhGb3JtIGNhbGxzIHdoZW4gdGhlIGZvcm3igJlzIHN1Ym1pdCBldmVudCBmaXJlcy5cbiAgfVxuICByZW5kZXJMb2FkaW5nKGlzTG9hZGluZywgbG9hZGluZ1RleHQgPSBcIlNhdmluZy4uLlwiKSB7XG4gICAgLy8gLy8gY29uc3Qgc3VibWl0QnV0dG9uID0gdGhpcy5fcG9wdXBGb3JtLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2J1dHRvblwiKTtcbiAgICAvLyBpZiAobG9hZGluZykge1xuICAgIC8vICAgc3VibWl0QnV0dG9uLnRleHRDb250ZW50ID0gXCJTYXZpbmcuLi5cIjtcbiAgICAvLyB9IGVsc2Uge1xuICAgIC8vICAgc3VibWl0QnV0dG9uLnRleHRDb250ZW50ID0gXCJTYXZlXCI7XG4gICAgLy8gfVxuXG4gICAgaWYgKGlzTG9hZGluZykge1xuICAgICAgdGhpcy5fc3VibWl0QnV0dG9uLnRleHRDb250ZW50ID0gbG9hZGluZ1RleHQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGhlcmUgd2UgcmV0dXJuIGJhY2sgdGhlIGluaXRpYWwgdGV4dC4gU28sIHlvdSBkb27igJl0IG5lZWQgdG8gYm90aGVyIHlvdXJzZWxmIGFib3V0IGl0XG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b24udGV4dENvbnRlbnQgPSB0aGlzLl9zdWJtaXRCdXR0b25UZXh0O1xuICAgIH1cbiAgfVxuXG4gIF9nZXRJbnB1dFZhbHVlcygpIHtcbiAgICAvL3doaWNoIGNvbGxlY3RzIGRhdGEgZnJvbSBhbGwgdGhlIGlucHV0IGZpZWxkcyBhbmQgcmV0dXJucyBpdCBhcyBhbiBvYmplY3RcbiAgICAvL3RoaXMgZGF0YSBzaG91bGQgdGhlbiBiZSBwYXNzZWQgdG8gdGhlIHN1Ym1pc3Npb24gaGFuZGxlciBhcyBhbiBhcmd1bWVudFxuICAgIGNvbnN0IGlucHV0VmFsdWVzID0ge307XG4gICAgdGhpcy5faW5wdXRFbHMuZm9yRWFjaCgoaW5wdXQpID0+IHtcbiAgICAgIGlucHV0VmFsdWVzW2lucHV0Lm5hbWVdID0gaW5wdXQudmFsdWU7XG4gICAgfSk7XG4gICAgcmV0dXJuIGlucHV0VmFsdWVzO1xuICB9XG4gIHNldElucHV0VmFsdWVzKGFycikge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7XG4gICAgICB0aGlzLl9pbnB1dEVsc1tpXS52YWx1ZSA9IGFycltpXTtcbiAgICB9XG4gIH1cblxuICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICAvL0l0IG92ZXJyaWRlcyB0aGUgc2V0RXZlbnRMaXN0ZW5lcnMoKSBwYXJlbnQgbWV0aG9kXG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgICB0aGlzLl9wb3B1cEZvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZSkgPT4ge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCh0aGlzLl9nZXRJbnB1dFZhbHVlcygpKTtcbiAgICAgIC8vdGhpcy5jbG9zZSgpO1xuICAgIH0pO1xuICAgIC8vVGhlIHNldEV2ZW50TGlzdGVuZXJzKCkgbWV0aG9kIG9mIHRoZSBQb3B1cFdpdGhGb3JtIGNsYXNzIHNob3VsZCBhZGQgYSBzdWJtaXQgZXZlbnQgbGlzdGVuZXIgdG8gdGhlIGZvcm1cbiAgICAvL2FuZCBjYWxsIHRoZSBzZXRFdmVudExpc3RlbmVycygpIG1ldGhvZCBvZiB0aGUgcGFyZW50IGNsYXNzXG4gIH1cblxuICAvLyByZW5kZXJMb2FkaW5nKGxvYWRpbmcpIHtcbiAgLy8gICAvLyBjb25zdCBzdWJtaXRCdXR0b24gPSB0aGlzLl9wb3B1cEZvcm0ucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fYnV0dG9uXCIpO1xuICAvLyAgIGlmIChsb2FkaW5nKSB7XG4gIC8vICAgICBzdWJtaXRCdXR0b24udGV4dENvbnRlbnQgPSBcIlNhdmluZy4uLlwiO1xuICAvLyAgIH0gZWxzZSB7XG4gIC8vICAgICBzdWJtaXRCdXR0b24udGV4dENvbnRlbnQgPSBcIlNhdmVcIjtcbiAgLy8gICB9XG4gIC8vIH1cbn1cbiIsImltcG9ydCB7IGluaXRpYWxDYXJkcywgY29uZmlnIH0gZnJvbSBcIi4uL3V0aWxzL2NvbnN0YW50cy5qc1wiO1xuaW1wb3J0IENhcmQgZnJvbSBcIi4uL2NvbXBvbmVudHMvQ2FyZC5qc1wiO1xuaW1wb3J0IEZvcm1WYWxpZGF0b3IgZnJvbSBcIi4uL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qc1wiO1xuaW1wb3J0IFNlY3Rpb24gZnJvbSBcIi4uL2NvbXBvbmVudHMvU2VjdGlvbi5qc1wiO1xuaW1wb3J0IFBvcHVwV2l0aEZvcm0gZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qc1wiO1xuaW1wb3J0IFBvcHVwV2l0aEltYWdlIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzXCI7XG5pbXBvcnQgUG9wdXBXaXRoQ29uZmlybWF0aW9uIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aENvbmZpcm1hdGlvbi5qc1wiO1xuaW1wb3J0IFVzZXJJbmZvIGZyb20gXCIuLi9jb21wb25lbnRzL1VzZXJJbmZvLmpzXCI7XG5pbXBvcnQgQXBpIGZyb20gXCIuLi9jb21wb25lbnRzL0FQSS5qc1wiO1xuaW1wb3J0IFwiLi9pbmRleC5jc3NcIjtcblxuLyoqKkVsZW1lbnRzICovXG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuY29uc3QgcHJvZmlsZUVkaXRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Byb2ZpbGUtZWRpdC1idXR0b25cIik7XG5jb25zdCBhZGRDYXJkTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2FkZC1jYXJkLW1vZGFsXCIpO1xuXG5jb25zdCBhZGRDYXJkRm9ybSA9IGFkZENhcmRNb2RhbC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19mb3JtXCIpO1xuXG5jb25zdCBhZGROZXdDYXJkQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19hZGQtYnV0dG9uXCIpO1xuY29uc3QgZWRpdEF2YXRhckJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fZWRpdC1hdmF0YXItYnV0dG9uXCIpO1xuXG4vLyBjb25zdCBlZGl0QXZhdGFyTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2VkaXQtYXZhdGFyLW1vZGFsXCIpO1xuXG5jb25zdCBhcGkgPSBuZXcgQXBpKHtcbiAgYmFzZVVybDogXCJodHRwczovL2Fyb3VuZC1hcGkuZW4udHJpcGxldGVuLXNlcnZpY2VzLmNvbS92MVwiLFxuICBoZWFkZXJzOiB7XG4gICAgYXV0aG9yaXphdGlvbjogXCI1ZjM2NGE3MC02MzU0LTRkN2YtYjNlMS0yMWE4ZmNmYWNlMmRcIixcbiAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgfSxcbn0pO1xuY29uc3QgZWRpdFByb2ZpbGVWYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihjb25maWcsIFwiI3Byb2ZpbGUtZWRpdC1mb3JtXCIpO1xuY29uc3QgYWRkQ2FyZFZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKGNvbmZpZywgXCIjYWRkLWNhcmQtZm9ybVwiKTtcbmNvbnN0IGVkaXRBdmF0YXJWYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihjb25maWcsIFwiI2VkaXQtYXZhdGFyLWZvcm1cIik7XG5cbmNvbnN0IGVkaXRQcm9maWxlUG9wdXAgPSBuZXcgUG9wdXBXaXRoRm9ybShcbiAgXCIjcHJvZmlsZS1lZGl0LW1vZGFsXCIsXG4gIGhhbmRsZVByb2ZpbGVFZGl0U3VibWl0XG4pO1xuXG5jb25zdCBhZGRDYXJkUG9wdXAgPSBuZXcgUG9wdXBXaXRoRm9ybShcIiNhZGQtY2FyZC1tb2RhbFwiLCBoYW5kbGVBZGRDYXJkU3VibWl0KTtcbmNvbnN0IGVkaXRBdmF0YXJQb3B1cCA9IG5ldyBQb3B1cFdpdGhGb3JtKFxuICBcIiNlZGl0LWF2YXRhci1tb2RhbFwiLFxuICBoYW5kbGVFZGl0QXZhdGFyU3VibWl0XG4pO1xuY29uc3QgcHJldmlld0ltYWdlUG9wdXAgPSBuZXcgUG9wdXBXaXRoSW1hZ2UoXCIjcHJldmlldy1pbWFnZS1tb2RhbFwiKTtcbmNvbnN0IGRlbGV0ZUNvbmZpcm1hdGlvblBvcHVwID0gbmV3IFBvcHVwV2l0aENvbmZpcm1hdGlvbihcbiAgXCIjZGVsZXRlLWNvbmZpcm1hdGlvbi1tb2RhbFwiXG4pO1xuY29uc3QgcHJvZmlsZVVzZXJJbmZvID0gbmV3IFVzZXJJbmZvKHtcbiAgbmFtZVNlbGVjdG9yOiBcIi5wcm9maWxlX190aXRsZVwiLFxuICBqb2JTZWxlY3RvcjogXCIucHJvZmlsZV9fZGVzY3JpcHRpb25cIixcbiAgYXZhdGFyU2VsZWN0b3I6IFwiLnByb2ZpbGVfX2ltYWdlXCIsXG59KTtcblxuLyogRXZlbnQgSGFuZGxlcnMgKi9cbmZ1bmN0aW9uIGhhbmRsZUVkaXRBdmF0YXJTdWJtaXQoaW5wdXRWYWx1ZXMpIHtcbiAgZWRpdEF2YXRhclBvcHVwLnJlbmRlckxvYWRpbmcodHJ1ZSk7XG4gIGFwaVxuICAgIC51cGRhdGVBdmF0YXIoaW5wdXRWYWx1ZXMubGluaylcbiAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICBwcm9maWxlVXNlckluZm8uc2V0VXNlckF2YXRhcihyZXMuYXZhdGFyKTtcbiAgICAgIGVkaXRBdmF0YXJQb3B1cC5jbG9zZSgpO1xuICAgIH0pXG4gICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgICAgIGFsZXJ0KGAke2Vycn0uIEZhaWxlZCB0byBlZGl0IGF2YXRhciA6KGApOyAvLyBsb2cgdGhlIGVycm9yIHRvIHRoZSBjb25zb2xlXG4gICAgfSlcbiAgICAuZmluYWxseSgoKSA9PiB7XG4gICAgICBlZGl0QXZhdGFyUG9wdXAucmVuZGVyTG9hZGluZyhmYWxzZSk7XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZUltYWdlQ2xpY2soZGF0YSkge1xuICBwcmV2aWV3SW1hZ2VQb3B1cC5vcGVuKGRhdGEubmFtZSwgZGF0YS5saW5rKTtcbn1cblxuZnVuY3Rpb24gaGFuZGxlUHJvZmlsZUVkaXRTdWJtaXQoaW5wdXRWYWx1ZXMpIHtcbiAgZWRpdFByb2ZpbGVQb3B1cC5yZW5kZXJMb2FkaW5nKHRydWUpO1xuICAvL3Nob3VsZCBiZSBoYW5kbGVkIGJ5IHVzZXJpbmZvIGNsYXNzXG5cbiAgYXBpXG4gICAgLnVwZGF0ZVByb2ZpbGVJbmZvKGlucHV0VmFsdWVzKSAvL3t0aXRsZTogZGRkLCBkZXNjcmlwdGlvbjoga2t9XG4gICAgLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgIHByb2ZpbGVVc2VySW5mby5zZXRVc2VySW5mbyhpbnB1dFZhbHVlcy50aXRsZSwgaW5wdXRWYWx1ZXMuZGVzY3JpcHRpb24pO1xuICAgICAgZWRpdFByb2ZpbGVQb3B1cC5jbG9zZSgpO1xuICAgICAgLy9wcm9maWxlVXNlckluZm8uc2V0VXNlckluZm8oZGF0YS5uYW1lLCBkYXRhLmFib3V0KTtcbiAgICAgIC8vY29uc29sZS5sb2coXCJOYW1lOlwiLCBkYXRhLm5hbWUsIFwiSm9iOlwiLCBkYXRhLmFib3V0KTtcbiAgICB9KVxuICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgICBhbGVydChgJHtlcnJ9LiBGYWlsZWQgdG8gdXBkYXRlIHByb2ZpbGUgaW5mbyA6KGApOyAvLyBsb2cgdGhlIGVycm9yIHRvIHRoZSBjb25zb2xlXG4gICAgfSlcbiAgICAuZmluYWxseSgoKSA9PiB7XG4gICAgICBlZGl0UHJvZmlsZVBvcHVwLnJlbmRlckxvYWRpbmcoZmFsc2UpO1xuICAgIH0pO1xufVxuXG4vL2xpa2VzIGJ1dHRvblxuZnVuY3Rpb24gaGFuZGxlTGlraW5nSWNvbihjYXJkKSB7XG4gIC8vZmV0Y2ggdG8gbGlrZSBjYXJkIG9uIHNlcnZlclxuICBhcGlcbiAgICAubGlrZUNhcmQoY2FyZC5faWQpXG5cbiAgICAvL2lmIHN1Y2Nlc3NmdWwuIHdlIGxpa2UgY2FyZCBsb2NhbGx5XG4gICAgLnRoZW4oKCkgPT4ge1xuICAgICAgY2FyZC5maWxsSW5MaWtlSWNvbigpO1xuICAgICAgY2FyZC5pc0xpa2VkID0gdHJ1ZTtcbiAgICB9KVxuICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgICBhbGVydChgJHtlcnJ9LiBGYWlsZWQgdG8gbGlrZSBjYXJkIDooYCk7XG4gICAgfSk7XG59XG4vL3VubGlrZXMgYnV0dG9uXG5mdW5jdGlvbiBoYW5kbGVVbmxpa2luZ0ljb24oY2FyZCkge1xuICAvL2RlbGV0ZSBsaWtlIG9uIHNlcnZlclxuICBhcGlcbiAgICAuZGlzbGlrZUNhcmQoY2FyZC5faWQpXG4gICAgLy9pZiBzdWNjZXNzZnVsbCwgdW5saWtlIGNhcmQgbG9jYWxseVxuICAgIC50aGVuKCgpID0+IHtcbiAgICAgIGNhcmQuY2xlYXJMaWtlSWNvbigpO1xuICAgICAgY2FyZC5pc0xpa2VkID0gZmFsc2U7XG4gICAgfSlcbiAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xuICAgICAgYWxlcnQoYCR7ZXJyfS4gRmFpbGVkIHRvIHVubGlrZSBjYXJkIDooYCk7XG4gICAgfSk7XG59XG5cbi8vZGVsZXRlIGNvbmZpbWF0aW9uIGZ1bmN0aW9uXG4vL3J1bnMgd2hlbiB5b3UgY2xpY2sgdGhlIHRyYXNoIGJ1dHRvblxuZnVuY3Rpb24gaGFuZGxlRGVsZXRlQ2xpY2soY2FyZCkge1xuICAvL3J1bnMgd2hlbiB5b3UgY2xpY2sgeWVzIG9uIHRoZSBkZWxldGUgY29uZmlybSBtb2RhbFxuICBmdW5jdGlvbiBoYW5kbGVEZWxldGVDb25maXJtYXRpb25TdWJtaXQoKSB7XG4gICAgLy9kZWxldGUgY2FyZCBvbiBzZXJ2ZXJcbiAgICBhcGlcbiAgICAgIC5kZWxldGVDYXJkKGNhcmQuX2lkKVxuICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICBkZWxldGVDb25maXJtYXRpb25Qb3B1cC5jbG9zZSgpO1xuICAgICAgICAvL2RlbGV0ZXMgY2FyZCBsb2NhbGx5XG4gICAgICAgIGNhcmQuaGFuZGxlRGVsZXRlQ2FyZCgpO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgICAgICAgYWxlcnQoYCR7ZXJyfS4gRmFpbGVkIHRvIGRlbGV0ZSBjYXJkIDooYCk7XG4gICAgICB9KTtcbiAgfVxuXG4gIC8vb3BlbiB0aGUgZGVsZXRlIGNvbmZpcm0gbW9kYWxcbiAgZGVsZXRlQ29uZmlybWF0aW9uUG9wdXAub3BlbigpO1xuICBkZWxldGVDb25maXJtYXRpb25Qb3B1cC5zZXRTdWJtaXRIYW5kbGVyKGhhbmRsZURlbGV0ZUNvbmZpcm1hdGlvblN1Ym1pdCk7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUNhcmQoY2FyZERhdGEpIHtcbiAgY29uc3QgY2FyZCA9IG5ldyBDYXJkKFxuICAgIGNhcmREYXRhLFxuICAgIFwiI2NhcmQtdGVtcGxhdGVcIixcbiAgICBoYW5kbGVJbWFnZUNsaWNrLFxuICAgIGhhbmRsZURlbGV0ZUNsaWNrLFxuICAgIGhhbmRsZVVubGlraW5nSWNvbixcbiAgICBoYW5kbGVMaWtpbmdJY29uXG4gICk7XG4gIHJldHVybiBjYXJkLmdldENhcmRFbGVtZW50KCk7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZUFkZENhcmRTdWJtaXQoaW5wdXRWYWx1ZXMpIHtcbiAgYWRkQ2FyZFBvcHVwLnJlbmRlckxvYWRpbmcodHJ1ZSk7XG4gIGFwaVxuICAgIC5jcmVhdGVDYXJkKGlucHV0VmFsdWVzKVxuICAgIC50aGVuKChkYXRhKSA9PiB7XG4gICAgICBjYXJkU2VjdGlvbi5hZGRJdGVtKGRhdGEpO1xuICAgICAgYWRkQ2FyZFBvcHVwLmNsb3NlKCk7XG4gICAgICBhZGRDYXJkRm9ybS5yZXNldCgpO1xuICAgICAgYWRkQ2FyZFZhbGlkYXRvci5yZXNldFZhbGlkYXRpb24oKTtcbiAgICB9KVxuICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgICBhbGVydChgJHtlcnJ9LiBGYWlsZWQgdG8gYWRkIG5ldyBjYXJkIDooYCk7XG4gICAgfSlcbiAgICAuZmluYWxseSgoKSA9PiB7XG4gICAgICBhZGRDYXJkUG9wdXAucmVuZGVyTG9hZGluZyhmYWxzZSk7XG4gICAgfSk7XG59XG5cbi8qIEV2ZW50IExpc3RlbmVycyAqL1xuXG5wcm9maWxlRWRpdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAvL3doYXQncyBpbnNpZGUgb2YgYXJyIHNob3VsZCBiZSBnb3R0ZW4gYnkgdGhlIHVzZWluZm8gY2xhc3NcblxuICBjb25zdCB1c2VySW5mbyA9IHByb2ZpbGVVc2VySW5mby5nZXRVc2VySW5mbygpO1xuICBjb25zdCBhcnIgPSBbdXNlckluZm8ubmFtZSwgdXNlckluZm8uam9iXTtcbiAgZWRpdFByb2ZpbGVQb3B1cC5zZXRJbnB1dFZhbHVlcyhhcnIpO1xuICBlZGl0UHJvZmlsZVZhbGlkYXRvci5yZXNldFZhbGlkYXRpb24oKTtcbiAgZWRpdFByb2ZpbGVQb3B1cC5vcGVuKCk7XG59KTtcblxuLy8gRm9ybSBMaXN0ZW5lcnNcbmVkaXRBdmF0YXJCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgZWRpdEF2YXRhclBvcHVwLm9wZW4oKTtcbn0pO1xuLy9BZGQgTmV3IENhcmQgQnV0dG9uXG5cbmFkZE5ld0NhcmRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IGFkZENhcmRQb3B1cC5vcGVuKCkpO1xuXG4vL0luaXRpYWxpemF0aW9uXG5cbmVkaXRQcm9maWxlVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcbmFkZENhcmRWYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xuZWRpdEF2YXRhclZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XG5cbmNvbnN0IGNhcmRTZWN0aW9uID0gbmV3IFNlY3Rpb24oXG4gIHsgaXRlbXM6IFtdLCByZW5kZXJlcjogY3JlYXRlQ2FyZCB9LFxuICBcIi5jYXJkc19fbGlzdFwiXG4pO1xuXG5hcGlcbiAgLmdldEluaXRpYWxDYXJkcygpXG4gIC50aGVuKChjYXJkcykgPT4ge1xuICAgIC8vIHByb2Nlc3MgdGhlIHJlc3VsdFxuICAgIGNhcmRTZWN0aW9uLnNldEl0ZW1zKGNhcmRzLnJldmVyc2UoKSk7XG4gICAgY2FyZFNlY3Rpb24ucmVuZGVySXRlbXMoKTtcbiAgfSlcbiAgLmNhdGNoKChlcnIpID0+IHtcbiAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgYWxlcnQoYCR7ZXJyfS4gRmFpbGVkIHRvIGxvYWQgY2FyZHMgOihgKTsgLy8gbG9nIHRoZSBlcnJvciB0byB0aGUgY29uc29sZVxuICB9KTtcblxuYXBpXG4gIC5nZXRVc2Vyc0luZm8oKVxuXG4gIC50aGVuKChkYXRhKSA9PiB7XG4gICAgcHJvZmlsZVVzZXJJbmZvLnNldFVzZXJBdmF0YXIoZGF0YS5hdmF0YXIpO1xuICAgIHByb2ZpbGVVc2VySW5mby5zZXRVc2VySW5mbyhkYXRhLm5hbWUsIGRhdGEuYWJvdXQpO1xuICB9KVxuICAuY2F0Y2goKGVycikgPT4ge1xuICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgICBhbGVydChgJHtlcnJ9LiBGYWlsZWQgdG8gZ2V0IHVzZXIgaW5mbyA6KGApOyAvLyBsb2cgdGhlIGVycm9yIHRvIHRoZSBjb25zb2xlXG4gIH0pO1xuXG4vLyBhcGlcblxuLy8gICAubGlrZUNhcmQoaW5wdXRWYWx1ZXMpXG4vLyAgIC50aGVuKChkYXRhKSA9PiB7XG4vLyAgICAgY29uc3QgY2FyZCA9IG5ldyBDYXJkKGNhcmREYXRhLCBcIiNjYXJkLXRlbXBsYXRlXCIsIGhhbmRsZUltYWdlQ2xpY2spO1xuLy8gICAgIGNhcmQuX2hhbmRsZUxpa2VJY29uKCk7XG4vLyAgIH0pXG4vLyAgIC5jYXRjaCgoZXJyKSA9PiB7XG4vLyAgICAgY29uc29sZS5lcnJvcihlcnIpO1xuLy8gICAgIGFsZXJ0KGAke2Vycn0uIEZhaWxlZCB0byBsaWtlIGNhcmQgOihgKTsgLy8gbG9nIHRoZSBlcnJvciB0byB0aGUgY29uc29sZVxuLy8gICB9KTtcbiIsImltcG9ydCB7IGluaXRpYWxDYXJkcyB9IGZyb20gXCIuLi91dGlscy9jb25zdGFudHNcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXBpIHtcbiAgY29uc3RydWN0b3IoeyBiYXNlVXJsLCBoZWFkZXJzIH0pIHtcbiAgICB0aGlzLl9iYXNlVXJsID0gYmFzZVVybDtcbiAgICB0aGlzLl9oZWFkZXJzID0gaGVhZGVycztcbiAgfVxuXG4gIF9jaGVja1Jlc3BvbnNlKHJlcykge1xuICAgIGlmIChyZXMub2spIHtcbiAgICAgIHJldHVybiByZXMuanNvbigpO1xuICAgIH1cbiAgICAvLyBpZiB0aGUgc2VydmVyIHJldHVybnMgYW4gZXJyb3IsIHJlamVjdCB0aGUgcHJvbWlzZVxuICAgIHJldHVybiBQcm9taXNlLnJlamVjdChgRXJyb3I6ICR7cmVzLnN0YXR1c31gKTtcbiAgICAvL3Rocm93IG5ldyBFcnJvcihgRXJyb3I6ICR7cmVzLnN0YXR1c31gKTtcbiAgfVxuXG4gIF9yZXF1ZXN0KHVybCwgb3B0aW9ucykge1xuICAgIHJldHVybiBmZXRjaCh1cmwsIG9wdGlvbnMpLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSk7XG4gIH1cblxuICBnZXRJbml0aWFsQ2FyZHMoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3JlcXVlc3QoYCR7dGhpcy5fYmFzZVVybH0vY2FyZHNgLCB7XG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgIH0pO1xuICB9XG5cbiAgZ2V0VXNlcnNJbmZvKCkge1xuICAgIHJldHVybiB0aGlzLl9yZXF1ZXN0KGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lYCwge1xuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICB9KTtcbiAgfVxuXG4gIHVwZGF0ZVByb2ZpbGVJbmZvKHsgdGl0bGUsIGRlc2NyaXB0aW9uIH0pIHtcbiAgICByZXR1cm4gdGhpcy5fcmVxdWVzdChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZWAsIHtcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgbmFtZTogdGl0bGUsXG4gICAgICAgIGFib3V0OiBkZXNjcmlwdGlvbixcbiAgICAgIH0pLFxuICAgIH0pO1xuICB9XG5cbiAgdXBkYXRlQXZhdGFyKHVybCkge1xuICAgIHJldHVybiB0aGlzLl9yZXF1ZXN0KGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lL2F2YXRhcmAsIHtcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgYXZhdGFyOiB1cmwsXG4gICAgICB9KSxcbiAgICB9KTtcbiAgfVxuXG4gIGNyZWF0ZUNhcmQoeyBuYW1lLCBsaW5rIH0pIHtcbiAgICByZXR1cm4gdGhpcy5fcmVxdWVzdChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkc2AsIHtcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBuYW1lOiBuYW1lLFxuICAgICAgICBsaW5rOiBsaW5rLFxuICAgICAgfSksXG4gICAgfSk7XG4gIH1cblxuICBsaWtlQ2FyZChjYXJkSWQpIHtcbiAgICByZXR1cm4gdGhpcy5fcmVxdWVzdChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkcy8ke2NhcmRJZH0vbGlrZXNgLCB7XG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICAgbWV0aG9kOiBcIlBVVFwiLFxuICAgICAgLy8gICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAvLyBpc0xpa2VkOiBkYXRhLmlzTGlrZWQsXG4gICAgICAvLyBpZDogZGF0YS5faWQsXG4gICAgICAvLyAgIH0pLFxuICAgIH0pO1xuICB9XG5cbiAgZGlzbGlrZUNhcmQoY2FyZElkKSB7XG4gICAgcmV0dXJuIHRoaXMuX3JlcXVlc3QoYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvJHtjYXJkSWR9L2xpa2VzYCwge1xuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcbiAgICB9KTtcbiAgfVxuXG4gIGRlbGV0ZUNhcmQoY2FyZElkKSB7XG4gICAgcmV0dXJuIHRoaXMuX3JlcXVlc3QoYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvJHtjYXJkSWR9YCwge1xuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcbiAgICB9KTtcbiAgfVxuXG4gIC8vICAgVXNlciByb3V0ZXNcbiAgLy8gR0VUIC91c2Vycy9tZSDigJMgR2V0IHRoZSBjdXJyZW50IHVzZXLigJlzIGluZm8gRE9ORVxuICAvLyBQQVRDSCAvdXNlcnMvbWUg4oCTIFVwZGF0ZSB5b3VyIHByb2ZpbGUgaW5mb3JtYXRpb25cbiAgLy8gUEFUQ0ggL3VzZXJzL21lL2F2YXRhciDigJMgVXBkYXRlIGF2YXRhclxuXG4gIC8vIENhcmQgcm91dGVzXG4gIC8vIC8vIEdFVCAvY2FyZHMg4oCTIEdldCBhbGwgY2FyZHMgRE9ORVxuICAvLyBQT1NUIC9jYXJkcyDigJMgQ3JlYXRlIGEgY2FyZFxuICAvLyBERUxFVEUgL2NhcmRzLzpjYXJkSWQg4oCTIERlbGV0ZSBhIGNhcmRcbiAgLy8gUFVUIC9jYXJkcy86Y2FyZElkL2xpa2VzIOKAkyBMaWtlIGEgY2FyZFxuICAvLyBERUxFVEUgL2NhcmRzLzpjYXJkSWQvbGlrZXMg4oCTIERpc2xpa2UgYSBjYXJkXG59XG4iLCIvL2NoaWxkIG9mIFBvcHVwXG5cbmltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xuICAgIHRoaXMuX2ltYWdlRWwgPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9faW1hZ2VcIik7XG4gICAgdGhpcy5fY2FwdGlvbkVsID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX3ByZXZpZXctdGl0bGVcIik7XG4gICAgdGhpcy5zZXRFdmVudExpc3RlbmVycygpO1xuICB9XG4gIC8vVGhlIG9wZW4oKSBtZXRob2Qgb2YgdGhlIFBvcHVwV2l0aEltYWdlIGNsYXNzIHdpbGwgbmVlZCB0byBhY2NlcHQgdGhlIG5hbWUgYW5kIGxpbmsgb2YgdGhlIGNhcmQgYXMgYXJndW1lbnRzXG4gIC8vYW5kIGFkZCBhbiBpbWFnZSB0byB0aGUgcG9wdXAgYW5kIHRoZSBjb3JyZXNwb25kaW5nIGltYWdlIHNyYyBhdHRyaWJ1dGUgYWxvbmcgd2l0aCBhIGNhcHRpb24gZm9yIHRoZSBpbWFnZVxuICAvLyBUaGlzIG1ldGhvZCBzaG91bGQgYmUgY2FsbGVkIGluIHlvdXIgaW1hZ2UgY2xpY2sgaGFuZGxlciBpbiBpbmRleC5qcy5cbiAgb3BlbihuYW1lLCBsaW5rKSB7XG4gICAgLy8gc2V0IHRoZSBpbWFnZSdzIHNyYyBhbmQgYWx0XG4gICAgLy8gc2V0IHRoZSBjYXB0aW9uJ3MgdGV4dENvbnRlbnRcbiAgICB0aGlzLl9pbWFnZUVsLnNyYyA9IGxpbms7XG4gICAgdGhpcy5faW1hZ2VFbC5hbHQgPSBuYW1lO1xuICAgIHRoaXMuX2NhcHRpb25FbC50ZXh0Q29udGVudCA9IG5hbWU7XG4gICAgc3VwZXIub3BlbigpO1xuICB9XG59XG4iLCIvL2NoaWxkIG9mIFBvcHVwXG5pbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aENvbmZpcm1hdGlvbiBleHRlbmRzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3RvciwgaGFuZGxlRm9ybVN1Ym1pdCkge1xuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xuICAgIHRoaXMuX3BvcHVwRm9ybSA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19mb3JtXCIpO1xuICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQgPSBoYW5kbGVGb3JtU3VibWl0O1xuICAgIHRoaXMuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgfVxuXG4gIHNldFN1Ym1pdEhhbmRsZXIoaGFuZGxlcikge1xuICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQgPSBoYW5kbGVyO1xuICB9XG5cbiAgLy9zZXQgY29uZmlybWF0aW9uIG1ldGhvZD9cbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgICB0aGlzLl9wb3B1cEZvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZSkgPT4ge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCgpO1xuICAgIH0pO1xuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBVc2VySW5mbyB7XG4gIGNvbnN0cnVjdG9yKHsgbmFtZVNlbGVjdG9yLCBqb2JTZWxlY3RvciwgYXZhdGFyU2VsZWN0b3IgfSkge1xuICAgIC8vVGFrZSBhbiBvYmplY3Qgd2l0aCB0aGUgc2VsZWN0b3JzIG9mIHR3byBlbGVtZW50cyBpbnRvIHRoZSBjb25zdHJ1Y3RvcjpcbiAgICAvL29uZSBmb3IgdGhlIHByb2ZpbGXigJlzIG5hbWUgZWxlbWVudCBhbmQgb25lIGZvciBpdHMgam9iIGVsZW1lbnRcbiAgICB0aGlzLl9uYW1lRWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKG5hbWVTZWxlY3Rvcik7XG4gICAgdGhpcy5fam9iRWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGpvYlNlbGVjdG9yKTtcbiAgICB0aGlzLl9hdmF0YXJFbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYXZhdGFyU2VsZWN0b3IpO1xuICB9XG4gIGdldFVzZXJJbmZvKCkge1xuICAgIC8vcmV0dXJucyBhbiBvYmplY3QgY29udGFpbmluZyBpbmZvcm1hdGlvbiBhYm91dCB0aGUgdXNlclxuICAgIC8vIHRoaXMgbWV0aG9kIHdpbGwgYmUgaGFuZHkgZm9yIGNhc2VzIHdoZW4gaXQncyBuZWNlc3NhcnkgdG8gZGlzcGxheSB0aGUgdXNlciBkYXRhIGluIHRoZSBvcGVuIGZvcm1cblxuICAgIHJldHVybiB7XG4gICAgICBuYW1lOiB0aGlzLl9uYW1lRWwudGV4dENvbnRlbnQsXG4gICAgICBqb2I6IHRoaXMuX2pvYkVsLnRleHRDb250ZW50LFxuICAgIH07XG4gIH1cbiAgc2V0VXNlckluZm8obmFtZSwgam9iKSB7XG4gICAgLy90YWtlcyBuZXcgdXNlciBkYXRhIGFuZCBhZGRzIGl0IHRvIHRoZSBwYWdlXG4gICAgLy9UaGlzIG1ldGhvZCBzaG91bGQgYmUgdXNlZCBhZnRlciBzdWNjZXNzZnVsIHN1Ym1pc3Npb24gb2YgdGhlIHByb2ZpbGUgZm9ybVxuICAgIHRoaXMuX25hbWVFbC50ZXh0Q29udGVudCA9IG5hbWU7XG4gICAgdGhpcy5fam9iRWwudGV4dENvbnRlbnQgPSBqb2I7XG4gIH1cbiAgc2V0VXNlckF2YXRhcihhdmF0YXIpIHtcbiAgICB0aGlzLl9hdmF0YXJFbC5zcmMgPSBhdmF0YXI7XG4gIH1cbn1cblxuLy8ge25hbWU6IGphcXVlIGNvdXNyYXVvLCBqb2I6IGV4cGxvZXJ9XG5cbi8vcHJvZmlsZVVzZXJJbmZvLnNldFVzZXJJbmZvKFwiQmlsbFwiLCBcImNhcHJlbnRlclwiKTtcblxuLy9mb290ZXJUZXh0LnRleHRDb250ZW50ID0gXCJIZWxsbG9cIjtcbiIsIi8vaGFuZGxlcyBhIHNlY3Rpb24gb2YgdGhlIHBhZ2UsIGJ5IHRha2luZyBpbiAnZGF0YScsIGNvbnZlcnRpbmcgaXQgdG8gaHRtbCwgYW5kIHBsYWNpbmcgaXQgb24gdGhlIHBhZ2VcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlY3Rpb24ge1xuICBjb25zdHJ1Y3Rvcih7IGl0ZW1zLCByZW5kZXJlciB9LCBjbGFzc1NlbGVjdG9yKSB7XG4gICAgLy9UaGUgaXRlbXMgcHJvcGVydHkgc2hvdWxkIGJlIGFuIGFycmF5IG9mIGRhdGEsIHdoaWNoIHlvdSBtdXN0IGFkZCB0byB0aGUgcGFnZSB3aGVuIGl0IGxvYWRzXG4gICAgdGhpcy5faXRlbXMgPSBpdGVtcztcblxuICAgIC8vVGhlIHJlbmRlcmVyIHByb3BlcnR5IHNob3VsZCBiZSBhIGZ1bmN0aW9uIHRoYXQgdGFrZXMgZGF0YSBhbmQgY29udmVydHMgaXQgdG8gaHRtbFxuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XG5cbiAgICAvL0l0cyBzZWNvbmQgY29uc3RydWN0b3IgcGFyYW1ldGVyIHNob3VsZCBiZSBhIENTUyBjbGFzcyBzZWxlY3RvciB3aGVyZSB5b3UnbGwgYWRkIHRoZSBjYXJkIGVsZW1lbnRzLlxuICAgIHRoaXMuX2NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY2xhc3NTZWxlY3Rvcik7XG4gIH1cblxuICBhZGRJdGVtKGRhdGEpIHtcbiAgICAvL3Rha2VzIGRhdGEsIGNvbnZlcnRzIGl0IHRvIGh0bWwsIGFuZCBwbGFjZXMgaXQgb24gdGhlIHBhZ2VcbiAgICBjb25zdCBlbGVtZW50ID0gdGhpcy5fcmVuZGVyZXIoZGF0YSk7XG4gICAgLy8gc2hvdWxkIGJlIGNhbGxlZCB3aGVuIGFkZGluZyBhbiBpbmRpdmlkdWFsIGNhcmQgdG8gdGhlIERPTVxuICAgIHRoaXMuX2NvbnRhaW5lci5wcmVwZW5kKGVsZW1lbnQpO1xuICB9XG4gIHJlbmRlckl0ZW1zKCkge1xuICAgIC8vcmVuZGVycyBhbGwgZWxlbWVudHMgb24gdGhlIHBhZ2UuXG4gICAgLy9pdGVyYXRlcyB0aHJvdWdoIHRoZSBpdGVtcyBhcnJheSBhbmQgY2FsbCB0aGUgcmVuZGVyZXIoKSBmdW5jdGlvbiBvbiBlYWNoIGl0ZW1cbiAgICAvL3Nob3VsZCBiZSBjYWxsZWQgb25jZSBvbiBwYWdlIGxvYWRcbiAgICB0aGlzLl9pdGVtcy5mb3JFYWNoKChkYXRhKSA9PiB7XG4gICAgICB0aGlzLmFkZEl0ZW0oZGF0YSk7XG4gICAgfSk7XG4gIH1cblxuICBzZXRJdGVtcyhhcnIpIHtcbiAgICB0aGlzLl9pdGVtcyA9IGFycjtcbiAgfVxuXG4gIC8vIGRlbGV0ZUl0ZW0oY2FyZElkKSB7XG4gIC8vICAgdGhpcy5faXRlbXMuZm9yRWFjaCgoaXRlbSkgPT4gY29uc29sZS5sb2coaXRlbS5faWQgPT0gY2FyZElkKSk7XG4gIC8vIH1cbn1cbiJdLCJuYW1lcyI6WyJjb25maWciLCJmb3JtU2VsZWN0b3IiLCJpbnB1dFNlbGVjdG9yIiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiaW5wdXRFcnJvckNsYXNzIiwiZXJyb3JDbGFzcyIsIkNhcmQiLCJjb25zdHJ1Y3RvciIsImRhdGEiLCJjYXJkU2VsZWN0b3IiLCJoYW5kbGVJbWFnZUNsaWNrIiwiaGFuZGxlRGVsZXRlQ2xpY2siLCJoYW5kbGVVbmxpa2luZ0ljb24iLCJoYW5kbGVMaWtpbmdJY29uIiwidGhpcyIsIl9kYXRhIiwiX25hbWUiLCJuYW1lIiwiX2xpbmsiLCJsaW5rIiwiX2hhbmRsZUltYWdlQ2xpY2siLCJfaGFuZGxlRGVsZXRlQ2xpY2siLCJfY2FyZFNlbGVjdG9yIiwiaXNMaWtlZCIsIl9pZCIsIl9oYW5kbGVVbmxpa2luZ0ljb24iLCJfaGFuZGxlTGlraW5nSWNvbiIsIl9zZXRFdmVudExpc3RlbmVycyIsIl9saWtlQnV0dG9uIiwiYWRkRXZlbnRMaXN0ZW5lciIsIl9kZWxldGVCdXR0b24iLCJfY2FyZEVsZW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiX2NhcmRJbWFnZSIsIl9zZXRMaWtlU3RhdGUiLCJmaWxsSW5MaWtlSWNvbiIsImNsZWFyTGlrZUljb24iLCJjbGFzc0xpc3QiLCJhZGQiLCJyZW1vdmUiLCJfaGFuZGxlTGlrZUljb24iLCJ0b2dnbGUiLCJoYW5kbGVEZWxldGVDYXJkIiwiZ2V0Q2FyZEVsZW1lbnQiLCJkb2N1bWVudCIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJfY2FyZFRpdGxlIiwic3JjIiwiYWx0IiwidGV4dENvbnRlbnQiLCJGb3JtVmFsaWRhdG9yIiwiX2Zvcm1FbCIsIl9jb25maWciLCJfaW5wdXRTZWxlY3RvciIsIl9pbnB1dEVscyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJfc3VibWl0QnV0dG9uU2VsZWN0b3IiLCJfaW5hY3RpdmVCdXR0b25DbGFzcyIsIl9pbnB1dEVycm9yQ2xhc3MiLCJfZXJyb3JDbGFzcyIsIl9zdWJtaXRCdXR0b24iLCJfc2hvd0lucHV0RXJyb3IiLCJpbnB1dEVsIiwiZXJyb3JNZXNzYWdlRWwiLCJpZCIsInZhbGlkYXRpb25NZXNzYWdlIiwiX2hpZGVJbnB1dEVycm9yIiwiX2NoZWNrSW5wdXRWYWxpZGl0eSIsInZhbGlkaXR5IiwidmFsaWQiLCJfaGFzVmFsaWRJbnB1dCIsImV2ZXJ5IiwiX3RvZ2dsZUJ1dHRvblN0YXRlIiwiZGlzYWJsZWQiLCJmb3JFYWNoIiwiZSIsInJlc2V0VmFsaWRhdGlvbiIsImVuYWJsZVZhbGlkYXRpb24iLCJwcmV2ZW50RGVmYXVsdCIsIlBvcHVwIiwicG9wdXBTZWxlY3RvciIsIl9wb3B1cEVsZW1lbnQiLCJfY2xvc2VCdXR0b24iLCJvcGVuIiwiX2hhbmRsZUVzY0Nsb3NlIiwiY2xvc2UiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwia2V5Iiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJ0YXJnZXQiLCJQb3B1cFdpdGhGb3JtIiwiaGFuZGxlRm9ybVN1Ym1pdCIsInN1cGVyIiwiX3BvcHVwRm9ybSIsIl9oYW5kbGVGb3JtU3VibWl0IiwiX3N1Ym1pdEJ1dHRvblRleHQiLCJyZW5kZXJMb2FkaW5nIiwiaXNMb2FkaW5nIiwibG9hZGluZ1RleHQiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJ1bmRlZmluZWQiLCJfZ2V0SW5wdXRWYWx1ZXMiLCJpbnB1dFZhbHVlcyIsImlucHV0IiwidmFsdWUiLCJzZXRJbnB1dFZhbHVlcyIsImFyciIsImkiLCJwcm9maWxlRWRpdEJ1dHRvbiIsImFkZENhcmRGb3JtIiwiYWRkTmV3Q2FyZEJ1dHRvbiIsImVkaXRBdmF0YXJCdXR0b24iLCJhcGkiLCJfcmVmIiwiYmFzZVVybCIsImhlYWRlcnMiLCJfYmFzZVVybCIsIl9oZWFkZXJzIiwiX2NoZWNrUmVzcG9uc2UiLCJyZXMiLCJvayIsImpzb24iLCJQcm9taXNlIiwicmVqZWN0Iiwic3RhdHVzIiwiX3JlcXVlc3QiLCJ1cmwiLCJvcHRpb25zIiwiZmV0Y2giLCJ0aGVuIiwiZ2V0SW5pdGlhbENhcmRzIiwiZ2V0VXNlcnNJbmZvIiwidXBkYXRlUHJvZmlsZUluZm8iLCJfcmVmMiIsInRpdGxlIiwiZGVzY3JpcHRpb24iLCJtZXRob2QiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsImFib3V0IiwidXBkYXRlQXZhdGFyIiwiYXZhdGFyIiwiY3JlYXRlQ2FyZCIsIl9yZWYzIiwibGlrZUNhcmQiLCJjYXJkSWQiLCJkaXNsaWtlQ2FyZCIsImRlbGV0ZUNhcmQiLCJhdXRob3JpemF0aW9uIiwiZWRpdFByb2ZpbGVWYWxpZGF0b3IiLCJhZGRDYXJkVmFsaWRhdG9yIiwiZWRpdEF2YXRhclZhbGlkYXRvciIsImVkaXRQcm9maWxlUG9wdXAiLCJwcm9maWxlVXNlckluZm8iLCJzZXRVc2VySW5mbyIsImNhdGNoIiwiZXJyIiwiY29uc29sZSIsImVycm9yIiwiYWxlcnQiLCJmaW5hbGx5IiwiYWRkQ2FyZFBvcHVwIiwiY2FyZFNlY3Rpb24iLCJhZGRJdGVtIiwicmVzZXQiLCJlZGl0QXZhdGFyUG9wdXAiLCJzZXRVc2VyQXZhdGFyIiwicHJldmlld0ltYWdlUG9wdXAiLCJfaW1hZ2VFbCIsIl9jYXB0aW9uRWwiLCJkZWxldGVDb25maXJtYXRpb25Qb3B1cCIsInNldFN1Ym1pdEhhbmRsZXIiLCJoYW5kbGVyIiwibmFtZVNlbGVjdG9yIiwiam9iU2VsZWN0b3IiLCJhdmF0YXJTZWxlY3RvciIsIl9uYW1lRWwiLCJfam9iRWwiLCJfYXZhdGFyRWwiLCJnZXRVc2VySW5mbyIsImpvYiIsImNhcmQiLCJ1c2VySW5mbyIsImNsYXNzU2VsZWN0b3IiLCJpdGVtcyIsInJlbmRlcmVyIiwiX2l0ZW1zIiwiX3JlbmRlcmVyIiwiX2NvbnRhaW5lciIsImVsZW1lbnQiLCJwcmVwZW5kIiwicmVuZGVySXRlbXMiLCJzZXRJdGVtcyIsImNhcmREYXRhIiwiY2FyZHMiLCJyZXZlcnNlIl0sInNvdXJjZVJvb3QiOiIifQ==