!function(){"use strict";const e={formSelector:".modal__form",inputSelector:".modal__input",submitButtonSelector:".modal__button",inactiveButtonClass:"modal__button_disabled",inputErrorClass:"modal__input_type_error",errorClass:"modal__error_visible"};class t{constructor(e,t,s,i,r,n){this._data=e,this._name=e.name,this._link=e.link,this._handleImageClick=s,this._handleDeleteClick=i,this._cardSelector=t,this.isLiked=e.isLiked,this._id=e._id,this._handleUnlikingIcon=r,this._handleLikingIcon=n}_setEventListeners(){this._likeButton.addEventListener("click",(()=>{!0===this.isLiked?this._handleUnlikingIcon(this):this._handleLikingIcon(this)})),this._deleteButton=this._cardElement.querySelector(".card__delete-button"),this._deleteButton.addEventListener("click",(()=>{this._handleDeleteClick(this)})),this._cardImage.addEventListener("click",(()=>{this._handleImageClick(this._data)}))}_setLikeState(){!0===this.isLiked?this.fillInLikeIcon():this.clearLikeIcon()}fillInLikeIcon(){this._likeButton.classList.add("card__like-button_active")}clearLikeIcon(){this._likeButton.classList.remove("card__like-button_active")}_handleLikeIcon(){this._likeButton.classList.toggle("card__like-button_active")}handleDeleteCard(){this._cardElement.remove(),this._cardElement=null}getCardElement(){return this._cardElement=document.querySelector(this._cardSelector).content.querySelector(".card").cloneNode(!0),this._likeButton=this._cardElement.querySelector(".card__like-button"),this._setLikeState(),this._cardImage=this._cardElement.querySelector(".card__image"),this._cardTitle=this._cardElement.querySelector(".card__title"),this._cardImage.src=this._link,this._cardImage.alt=this._name,this._cardTitle.textContent=this._name,this._setEventListeners(),this._cardElement}}class s{constructor(e,t){this._formEl=document.querySelector(t),this._config=e,this._inputSelector=e.inputSelector,this._inputEls=[...this._formEl.querySelectorAll(this._inputSelector)],this._submitButtonSelector=e.submitButtonSelector,this._inactiveButtonClass=e.inactiveButtonClass,this._inputErrorClass=e.inputErrorClass,this._errorClass=e.errorClass,this._submitButton=this._formEl.querySelector(this._submitButtonSelector)}_showInputError(e){const t=this._formEl.querySelector(`#${e.id}-error`);e.classList.add(this._inputErrorClass),t.textContent=e.validationMessage,t.classList.add(this._errorClass)}_hideInputError(e){const t=this._formEl.querySelector(`#${e.id}-error`);e.classList.remove(this._inputErrorClass),t.textContent="",t.classList.remove(this._errorClass)}_checkInputValidity(e){e.validity.valid?this._hideInputError(e):this._showInputError(e)}_hasValidInput(){return this._inputEls.every((e=>e.validity.valid))}_toggleButtonState(){this._hasValidInput()?(this._submitButton.classList.remove(this._inactiveButtonClass),this._submitButton.disabled=!1):(this._submitButton.classList.add(this._inactiveButtonClass),this._submitButton.disabled=!0)}_setEventListeners(){this._inputEls.forEach((e=>{e.addEventListener("input",(t=>{this._checkInputValidity(e),this._toggleButtonState()}))}))}resetValidation(){this._inputEls.forEach((e=>{this._hideInputError(e)})),this._toggleButtonState()}enableValidation(){this._formEl.addEventListener("submit",(e=>{e.preventDefault()})),this._setEventListeners()}}class i{constructor(e){this._popupElement=document.querySelector(e),this._closeButton=this._popupElement.querySelector(".modal__close")}open(){this._popupElement.classList.add("modal_opened"),document.addEventListener("keydown",this._handleEscClose)}close(){this._popupElement.classList.remove("modal_opened"),document.removeEventListener("keydown",this._handleEscClose)}_handleEscClose=e=>{"Escape"===e.key&&this.close()};setEventListeners(){this._popupElement.addEventListener("mousedown",(e=>{e.target!==this._closeButton&&e.target!==this._popupElement||this.close()}))}}class r extends i{constructor(e,t){super(e),this._popupForm=this._popupElement.querySelector(".modal__form"),this._handleFormSubmit=t,this._inputEls=[...this._popupElement.querySelectorAll(".modal__input")],this._popupForm.querySelector(".modal__button"),this._submitBtnText=this._submitBtnText.textContent,this.setEventListeners()}renderLoading(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Saving...";this._submitBtnText.textContent=e?t:this._submitBtnText}_getInputValues(){const e={};return this._inputEls.forEach((t=>{e[t.name]=t.value})),e}setInputValues(e){for(let t=0;t<e.length;t++)this._inputEls[t].value=e[t]}setEventListeners(){super.setEventListeners(),this._popupForm.addEventListener("submit",(e=>{e.preventDefault(),this._handleFormSubmit(this._getInputValues())}))}}const n=document.querySelector("#profile-edit-button"),a=document.querySelector("#add-card-modal").querySelector(".modal__form"),o=document.querySelector(".profile__add-button"),l=document.querySelector(".profile__edit-avatar-button"),d=new class{constructor(e){let{baseUrl:t,headers:s}=e;this._baseUrl=t,this._headers=s}_checkResponse(e){return e.ok?e.json():Promise.reject(`Error: ${e.status}`)}_request(e,t){return fetch(e,t).then(this._checkResponse)}getInitialCards(){this._request(`${this._baseUrl}/cards`,{headers:this._headers})}getUsersInfo(){this._request(`${this._baseUrl}/users/me`,{headers:this._headers})}updateProfileInfo(e){let{title:t,description:s}=e;this._request(`${this._baseUrl}/users/me`,{headers:this._headers,method:"PATCH",body:JSON.stringify({name:t,about:s})})}updateAvatar(e){this._request(`${this._baseUrl}/users/me/avatar`,{headers:this._headers,method:"PATCH",body:JSON.stringify({avatar:e})})}createCard(e){let{name:t,link:s}=e;this._request(`${this._baseUrl}/cards`,{headers:this._headers,method:"POST",body:JSON.stringify({name:t,link:s})})}likeCard(e){this._request(`${this._baseUrl}/cards/${e}/likes`,{headers:this._headers,method:"PUT"})}dislikeCard(e){this._request(`${this._baseUrl}/cards/${e}/likes`,{headers:this._headers,method:"DELETE"})}deleteCard(e){this._request(`${this._baseUrl}/cards/${e}`,{headers:this._headers,method:"DELETE"})}}({baseUrl:"https://around-api.en.tripleten-services.com/v1",headers:{authorization:"5f364a70-6354-4d7f-b3e1-21a8fcface2d","Content-Type":"application/json"}}),c=new s(e,"#profile-edit-form"),h=new s(e,"#add-card-form"),_=new s(e,"#edit-avatar-form"),u=new r("#profile-edit-modal",(function(e){u.renderLoading(!0),d.updateProfileInfo(e).then((t=>{f.setUserInfo(e.title,e.description),u.close()})).catch((e=>{console.error(e),alert(`${e}. Failed to update profile info :(`)})).finally((()=>{u.renderLoading(!1)}))})),m=new r("#add-card-modal",(function(e){m.renderLoading(!0),d.createCard(e).then((e=>{g.addItem(e),m.close(),a.reset(),h.resetValidation()})).catch((e=>{console.error(e),alert(`${e}. Failed to add new card :(`)})).finally((()=>{m.renderLoading(!1)}))})),p=new r("#edit-avatar-modal",(function(e){p.renderLoading(!0),d.updateAvatar(e.link).then((e=>{f.setUserAvatar(e.avatar),p.close()})).catch((e=>{console.error(e),alert(`${e}. Failed to edit avatar :(`)})).finally((()=>{p.renderLoading(!1)}))})),E=new class extends i{constructor(e){super(e),this._imageEl=this._popupElement.querySelector(".modal__image"),this._captionEl=this._popupElement.querySelector(".modal__preview-title"),this.setEventListeners()}open(e,t){this._imageEl.src=t,this._imageEl.alt=e,this._captionEl.textContent=e,super.open()}}("#preview-image-modal"),v=new class extends i{constructor(e,t){super(e),this._popupForm=this._popupElement.querySelector(".modal__form"),this._handleFormSubmit=t,this.setEventListeners()}setSubmitHandler(e){this._handleFormSubmit=e}setEventListeners(){super.setEventListeners(),this._popupForm.addEventListener("submit",(e=>{e.preventDefault(),this._handleFormSubmit()}))}}("#delete-confirmation-modal"),f=new class{constructor(e){let{nameSelector:t,jobSelector:s,avatarSelector:i}=e;this._nameEl=document.querySelector(t),this._jobEl=document.querySelector(s),this._avatarEl=document.querySelector(i)}getUserInfo(){return{name:this._nameEl.textContent,job:this._jobEl.textContent}}setUserInfo(e,t){this._nameEl.textContent=e,this._jobEl.textContent=t}setUserAvatar(e){this._avatarEl.src=e}}({nameSelector:".profile__title",jobSelector:".profile__description",avatarSelector:".profile__image"});function b(e){E.open(e.name,e.link)}function L(e){d.likeCard(e._id).then((()=>{e.fillInLikeIcon(),e.isLiked=!1})).catch((e=>{console.error(e),alert(`${e}. Failed to like card :(`)}))}function S(e){d.dislikeCard(e._id).then((()=>{e.clearLikeIcon(),e.isLiked=!0})).catch((e=>{console.error(e),alert(`${e}. Failed to unlike card :(`)}))}function k(e){v.open(),v.setSubmitHandler((function(){d.deleteCard(e._id).then((()=>{v.close(),e.handleDeleteCard()})).catch((e=>{console.error(e),alert(`${e}. Failed to delete card :(`)}))}))}n.addEventListener("click",(()=>{const e=f.getUserInfo(),t=[e.name,e.job];u.setInputValues(t),c.resetValidation(),u.open()})),l.addEventListener("click",(()=>{p.open()})),o.addEventListener("click",(()=>m.open())),c.enableValidation(),h.enableValidation(),_.enableValidation();const g=new class{constructor(e,t){let{items:s,renderer:i}=e;this._items=s,this._renderer=i,this._container=document.querySelector(t)}addItem(e){const t=this._renderer(e);this._container.prepend(t)}renderItems(){this._items.forEach((e=>{this.addItem(e)}))}setItems(e){this._items=e}}({items:[],renderer:function(e){return new t(e,"#card-template",b,k,S,L).getCardElement()}},".cards__list");d.getInitialCards().then((e=>{g.setItems(e.reverse()),g.renderItems()})).catch((e=>{console.error(e),alert(`${e}. Failed to load cards :(`)})),d.getUsersInfo().then((e=>{f.setUserAvatar(e.avatar),f.setUserInfo(e.name,e.about)})).catch((e=>{console.error(e),alert(`${e}. Failed to get user info :(`)}))}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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cmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9DYXJkLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvUG9wdXAuanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvcGFnZXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvQVBJLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aENvbmZpcm1hdGlvbi5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Vc2VySW5mby5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9TZWN0aW9uLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBpbml0aWFsQ2FyZHMgPSBbXG4gIHtcbiAgICBuYW1lOiBcIllvc2VtaXRlIFZhbGxleVwiLFxuICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9zb2Z0d2FyZS1lbmdpbmVlci9hcm91bmQtcHJvamVjdC95b3NlbWl0ZS5qcGdcIixcbiAgfSxcbiAge1xuICAgIG5hbWU6IFwiTGFrZSBMb3Vpc2VcIixcbiAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvYXJvdW5kLXByb2plY3QvbGFrZS1sb3Vpc2UuanBnXCIsXG4gIH0sXG4gIHtcbiAgICBuYW1lOiBcIkJhbGQgTW91bnRhaW5zXCIsXG4gICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3NvZnR3YXJlLWVuZ2luZWVyL2Fyb3VuZC1wcm9qZWN0L2JhbGQtbW91bnRhaW5zLmpwZ1wiLFxuICB9LFxuICB7XG4gICAgbmFtZTogXCJMYXRlbWFyXCIsXG4gICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3NvZnR3YXJlLWVuZ2luZWVyL2Fyb3VuZC1wcm9qZWN0L2xhdGVtYXIuanBnXCIsXG4gIH0sXG4gIHtcbiAgICBuYW1lOiBcIlZhbm9pc2UgTmF0aW9uYWwgUGFya1wiLFxuICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9zb2Z0d2FyZS1lbmdpbmVlci9hcm91bmQtcHJvamVjdC92YW5vaXNlLmpwZ1wiLFxuICB9LFxuICB7XG4gICAgbmFtZTogXCJMYWdvIGRpIEJyYWllc1wiLFxuICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9zb2Z0d2FyZS1lbmdpbmVlci9hcm91bmQtcHJvamVjdC9sYWdvLmpwZ1wiLFxuICB9LFxuXTtcbmV4cG9ydCBjb25zdCBjb25maWcgPSB7XG4gIGZvcm1TZWxlY3RvcjogXCIubW9kYWxfX2Zvcm1cIixcbiAgaW5wdXRTZWxlY3RvcjogXCIubW9kYWxfX2lucHV0XCIsXG4gIHN1Ym1pdEJ1dHRvblNlbGVjdG9yOiBcIi5tb2RhbF9fYnV0dG9uXCIsXG4gIGluYWN0aXZlQnV0dG9uQ2xhc3M6IFwibW9kYWxfX2J1dHRvbl9kaXNhYmxlZFwiLFxuICBpbnB1dEVycm9yQ2xhc3M6IFwibW9kYWxfX2lucHV0X3R5cGVfZXJyb3JcIixcbiAgZXJyb3JDbGFzczogXCJtb2RhbF9fZXJyb3JfdmlzaWJsZVwiLFxufTtcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIENhcmQge1xuICBjb25zdHJ1Y3RvcihcbiAgICBkYXRhLFxuICAgIGNhcmRTZWxlY3RvcixcbiAgICBoYW5kbGVJbWFnZUNsaWNrLFxuICAgIGhhbmRsZURlbGV0ZUNsaWNrLFxuICAgIGhhbmRsZVVubGlraW5nSWNvbixcbiAgICBoYW5kbGVMaWtpbmdJY29uXG4gICkge1xuICAgIHRoaXMuX2RhdGEgPSBkYXRhO1xuICAgIHRoaXMuX25hbWUgPSBkYXRhLm5hbWU7XG4gICAgdGhpcy5fbGluayA9IGRhdGEubGluaztcbiAgICB0aGlzLl9oYW5kbGVJbWFnZUNsaWNrID0gaGFuZGxlSW1hZ2VDbGljaztcbiAgICB0aGlzLl9oYW5kbGVEZWxldGVDbGljayA9IGhhbmRsZURlbGV0ZUNsaWNrO1xuICAgIHRoaXMuX2NhcmRTZWxlY3RvciA9IGNhcmRTZWxlY3RvcjtcbiAgICB0aGlzLmlzTGlrZWQgPSBkYXRhLmlzTGlrZWQ7XG4gICAgdGhpcy5faWQgPSBkYXRhLl9pZDtcbiAgICB0aGlzLl9oYW5kbGVVbmxpa2luZ0ljb24gPSBoYW5kbGVVbmxpa2luZ0ljb247XG4gICAgdGhpcy5faGFuZGxlTGlraW5nSWNvbiA9IGhhbmRsZUxpa2luZ0ljb247XG4gICAgLy9tb3ZlZCBpbnRvIGNvbnN0cnVjdG9yXG4gICAgLy8gdGhpcy5fbGlrZUJ1dHRvbiA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fbGlrZS1idXR0b25cIik7XG5cbiAgICAvLyB0aGlzLl9jYXJkRWxlbWVudCA9IGRvY3VtZW50XG4gICAgLy8gICAucXVlcnlTZWxlY3Rvcih0aGlzLl9jYXJkU2VsZWN0b3IpXG4gICAgLy8gICAuY29udGVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRcIilcbiAgICAvLyAgIC5jbG9uZU5vZGUodHJ1ZSk7XG4gICAgLy8gdGhpcy5fc2V0TGlrZVN0YXRlKCk7XG4gICAgLy8gdGhpcy5faGFuZGxlRGVsZXRlQ2xpY2sgPSBoYW5kbGVEZWxldGVDbGljaztcblxuICAgIC8vIHRoaXMuX2NhcmRFbGVtZW50ID0gZG9jdW1lbnRcbiAgICAvLyAgIC5xdWVyeVNlbGVjdG9yKHRoaXMuX2NhcmRTZWxlY3RvcilcbiAgICAvLyAgIC5jb250ZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZFwiKVxuICAgIC8vICAgLmNsb25lTm9kZSh0cnVlKTtcbiAgICAvLyB0aGlzLl9jYXJkSW1hZ2UgPSB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2ltYWdlXCIpO1xuICAgIC8vIHRoaXMuX2NhcmRUaXRsZSA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fdGl0bGVcIik7XG4gICAgLy8gdGhpcy5fbGlrZUJ1dHRvbiA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fbGlrZS1idXR0b25cIik7XG4gICAgLy8gdGhpcy5fZGVsZXRlQnV0dG9uID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAvLyAgIFwiLmNhcmRfX2RlbGV0ZS1idXR0b25cIlxuICAgIC8vICk7XG4gIH1cblxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgLy9cIi5jYXJkX19saWtlLWJ1dHRvblwiXG4gICAgdGhpcy5fbGlrZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgaWYgKHRoaXMuaXNMaWtlZCA9PT0gdHJ1ZSkge1xuICAgICAgICAvLyBjYWxsIGEgZnVuY3Rpb24gZnJvbSBpbmRleC5qcyB0byB1bmxpa2UgdGhlIGJ1dHRvblxuICAgICAgICB0aGlzLl9oYW5kbGVVbmxpa2luZ0ljb24odGhpcyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvL290aGVyd2lzZSB5b3UgY2FuIGNhbGwgYSBkaWZmZXJlbnQgZnVuY3Rpb24gZm9ybSBpbmRleC5qcyB0byBsaWtlIHRoZSBidXR0b25cbiAgICAgICAgdGhpcy5faGFuZGxlTGlraW5nSWNvbih0aGlzKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vXCIuY2FyZF9fZGVsZXRlLWJ1dHRvblwiXG4gICAgdGhpcy5fZGVsZXRlQnV0dG9uID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgIFwiLmNhcmRfX2RlbGV0ZS1idXR0b25cIlxuICAgICk7XG4gICAgLy8gdGhpcy5fZGVsZXRlQnV0dG9uID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAvLyAgIFwiLmNhcmRfX2RlbGV0ZS1idXR0b25cIlxuICAgIC8vICk7XG4gICAgdGhpcy5fZGVsZXRlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAvL29wZW5zIGRlbGV0ZSBjb25maXJtYXRpb24gbW9kYWxcbiAgICAgIHRoaXMuX2hhbmRsZURlbGV0ZUNsaWNrKHRoaXMpO1xuICAgIH0pO1xuICAgIC8vXCIuY2FyZF9faW1hZ2VcIlxuICAgIHRoaXMuX2NhcmRJbWFnZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgdGhpcy5faGFuZGxlSW1hZ2VDbGljayh0aGlzLl9kYXRhKTtcbiAgICB9KTtcbiAgfVxuXG4gIF9zZXRMaWtlU3RhdGUoKSB7XG4gICAgaWYgKHRoaXMuaXNMaWtlZCA9PT0gdHJ1ZSkge1xuICAgICAgdGhpcy5maWxsSW5MaWtlSWNvbigpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmNsZWFyTGlrZUljb24oKTtcbiAgICB9XG4gIH1cblxuICBmaWxsSW5MaWtlSWNvbigpIHtcbiAgICB0aGlzLl9saWtlQnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJjYXJkX19saWtlLWJ1dHRvbl9hY3RpdmVcIik7XG4gIH1cbiAgY2xlYXJMaWtlSWNvbigpIHtcbiAgICB0aGlzLl9saWtlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoXCJjYXJkX19saWtlLWJ1dHRvbl9hY3RpdmVcIik7XG4gIH1cblxuICBfaGFuZGxlTGlrZUljb24oKSB7XG4gICAgdGhpcy5fbGlrZUJ1dHRvbi5jbGFzc0xpc3QudG9nZ2xlKFwiY2FyZF9fbGlrZS1idXR0b25fYWN0aXZlXCIpO1xuICB9XG4gIGhhbmRsZURlbGV0ZUNhcmQoKSB7XG4gICAgdGhpcy5fY2FyZEVsZW1lbnQucmVtb3ZlKCk7XG4gICAgdGhpcy5fY2FyZEVsZW1lbnQgPSBudWxsO1xuICB9XG5cbiAgZ2V0Q2FyZEVsZW1lbnQoKSB7XG4gICAgLy9mcm9tIGdldENhcmRFbGVtZW50XG4gICAgLy9nZXQgdGhlIGNhcmQgdmlld1xuICAgIHRoaXMuX2NhcmRFbGVtZW50ID0gZG9jdW1lbnRcbiAgICAgIC5xdWVyeVNlbGVjdG9yKHRoaXMuX2NhcmRTZWxlY3RvcilcbiAgICAgIC5jb250ZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZFwiKVxuICAgICAgLmNsb25lTm9kZSh0cnVlKTtcbiAgICB0aGlzLl9saWtlQnV0dG9uID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19saWtlLWJ1dHRvblwiKTtcblxuICAgIHRoaXMuX3NldExpa2VTdGF0ZSgpO1xuICAgIHRoaXMuX2NhcmRJbWFnZSA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9faW1hZ2VcIik7XG4gICAgdGhpcy5fY2FyZFRpdGxlID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX190aXRsZVwiKTtcbiAgICB0aGlzLl9jYXJkSW1hZ2Uuc3JjID0gdGhpcy5fbGluaztcbiAgICB0aGlzLl9jYXJkSW1hZ2UuYWx0ID0gdGhpcy5fbmFtZTtcbiAgICB0aGlzLl9jYXJkVGl0bGUudGV4dENvbnRlbnQgPSB0aGlzLl9uYW1lO1xuXG4gICAgLy9zZXQgZXZlbnQgbGlzdGVuZXJzXG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgICByZXR1cm4gdGhpcy5fY2FyZEVsZW1lbnQ7XG4gIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEZvcm1WYWxpZGF0b3Ige1xuICBjb25zdHJ1Y3Rvcihjb25maWcsIGZvcm1TZWxlY3Rvcikge1xuICAgIHRoaXMuX2Zvcm1FbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZm9ybVNlbGVjdG9yKTtcblxuICAgIHRoaXMuX2NvbmZpZyA9IGNvbmZpZztcblxuICAgIHRoaXMuX2lucHV0U2VsZWN0b3IgPSBjb25maWcuaW5wdXRTZWxlY3RvcjtcbiAgICB0aGlzLl9pbnB1dEVscyA9IFsuLi50aGlzLl9mb3JtRWwucXVlcnlTZWxlY3RvckFsbCh0aGlzLl9pbnB1dFNlbGVjdG9yKV07XG4gICAgdGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3IgPSBjb25maWcuc3VibWl0QnV0dG9uU2VsZWN0b3I7XG4gICAgdGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyA9IGNvbmZpZy5pbmFjdGl2ZUJ1dHRvbkNsYXNzO1xuICAgIHRoaXMuX2lucHV0RXJyb3JDbGFzcyA9IGNvbmZpZy5pbnB1dEVycm9yQ2xhc3M7XG4gICAgdGhpcy5fZXJyb3JDbGFzcyA9IGNvbmZpZy5lcnJvckNsYXNzO1xuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbiA9IHRoaXMuX2Zvcm1FbC5xdWVyeVNlbGVjdG9yKHRoaXMuX3N1Ym1pdEJ1dHRvblNlbGVjdG9yKTtcbiAgfVxuICBfc2hvd0lucHV0RXJyb3IoaW5wdXRFbCkge1xuICAgIGNvbnN0IGVycm9yTWVzc2FnZUVsID0gdGhpcy5fZm9ybUVsLnF1ZXJ5U2VsZWN0b3IoYCMke2lucHV0RWwuaWR9LWVycm9yYCk7XG5cbiAgICBpbnB1dEVsLmNsYXNzTGlzdC5hZGQodGhpcy5faW5wdXRFcnJvckNsYXNzKTtcbiAgICBlcnJvck1lc3NhZ2VFbC50ZXh0Q29udGVudCA9IGlucHV0RWwudmFsaWRhdGlvbk1lc3NhZ2U7XG4gICAgZXJyb3JNZXNzYWdlRWwuY2xhc3NMaXN0LmFkZCh0aGlzLl9lcnJvckNsYXNzKTtcbiAgfVxuICBfaGlkZUlucHV0RXJyb3IoaW5wdXRFbCkge1xuICAgIGNvbnN0IGVycm9yTWVzc2FnZUVsID0gdGhpcy5fZm9ybUVsLnF1ZXJ5U2VsZWN0b3IoYCMke2lucHV0RWwuaWR9LWVycm9yYCk7XG4gICAgaW5wdXRFbC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XG4gICAgZXJyb3JNZXNzYWdlRWwudGV4dENvbnRlbnQgPSBcIlwiO1xuICAgIGVycm9yTWVzc2FnZUVsLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fZXJyb3JDbGFzcyk7XG4gIH1cbiAgX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsKSB7XG4gICAgaWYgKCFpbnB1dEVsLnZhbGlkaXR5LnZhbGlkKSB7XG4gICAgICB0aGlzLl9zaG93SW5wdXRFcnJvcihpbnB1dEVsKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbCk7XG4gICAgfVxuICB9XG4gIF9oYXNWYWxpZElucHV0KCkge1xuICAgIHJldHVybiB0aGlzLl9pbnB1dEVscy5ldmVyeSgoaW5wdXRFbCkgPT4ge1xuICAgICAgcmV0dXJuIGlucHV0RWwudmFsaWRpdHkudmFsaWQ7XG4gICAgfSk7XG4gIH1cbiAgX3RvZ2dsZUJ1dHRvblN0YXRlKCkge1xuICAgIGlmICghdGhpcy5faGFzVmFsaWRJbnB1dCgpKSB7XG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b24uY2xhc3NMaXN0LmFkZCh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcbiAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xuICAgICAgdGhpcy5fc3VibWl0QnV0dG9uLmRpc2FibGVkID0gZmFsc2U7XG4gICAgfVxuICB9XG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcbiAgICB0aGlzLl9pbnB1dEVscy5mb3JFYWNoKChpbnB1dEVsKSA9PiB7XG4gICAgICBpbnB1dEVsLmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoZSkgPT4ge1xuICAgICAgICB0aGlzLl9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbCk7XG4gICAgICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIHJlc2V0VmFsaWRhdGlvbigpIHtcbiAgICB0aGlzLl9pbnB1dEVscy5mb3JFYWNoKChpbnB1dEVsKSA9PiB7XG4gICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dEVsKTtcbiAgICAgIC8vICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcbiAgICB9KTtcbiAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xuICB9XG5cbiAgZW5hYmxlVmFsaWRhdGlvbigpIHtcbiAgICB0aGlzLl9mb3JtRWwuYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZSkgPT4ge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH0pO1xuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XG4gIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xuICAgIHRoaXMuX3BvcHVwRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocG9wdXBTZWxlY3Rvcik7XG4gICAgdGhpcy5fY2xvc2VCdXR0b24gPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fY2xvc2VcIik7XG4gIH1cblxuICBvcGVuKCkge1xuICAgIHRoaXMuX3BvcHVwRWxlbWVudC5jbGFzc0xpc3QuYWRkKFwibW9kYWxfb3BlbmVkXCIpO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcbiAgfVxuICAvL1RoZSBvcGVuKCkgbWV0aG9kIHNob3VsZCBiZSBjYWxsZWQgaW4gdGhlIHByZWV4aXN0aW5nIGV2ZW50IGhhbmRsZXJzIGluIGluZGV4LmpzXG5cbiAgY2xvc2UoKSB7XG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJtb2RhbF9vcGVuZWRcIik7XG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xuICB9XG5cbiAgX2hhbmRsZUVzY0Nsb3NlID0gKGUpID0+IHtcbiAgICAvL2Nsb3NpbmcgdGhlIHBvcHVwIGJ5IHByZXNzaW5nIHRoZSBFc2Mga2V5XG4gICAgaWYgKGUua2V5ID09PSBcIkVzY2FwZVwiKSB7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfVxuICB9O1xuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIC8vYWRkcyBhIGNsaWNrIGV2ZW50IGxpc3RlbmVyIHRvIHRoZSBjbG9zZSBpY29uIG9mIHRoZSBwb3B1cFxuICAgIC8vVGhlIG1vZGFsIHdpbmRvdyBzaG91bGQgYWxzbyBjbG9zZSB3aGVuIHVzZXJzIGNsaWNrIG9uIHRoZSBzaGFkZWQgYXJlYSBhcm91bmQgdGhlIGZvcm0uXG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgKGUpID0+IHtcbiAgICAgIGlmIChlLnRhcmdldCA9PT0gdGhpcy5fY2xvc2VCdXR0b24gfHwgZS50YXJnZXQgPT09IHRoaXMuX3BvcHVwRWxlbWVudCkge1xuICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn1cbi8vWW91IHdvbuKAmXQgaW5zdGFudGlhdGUgeW91ciBQb3B1cCBjbGFzcyBkaXJlY3RseSBpbiBpbmRleC5qc1xuLy8gaW5zdGVhZCwgeW914oCZbGwgaW5zdGFudGlhdGUgaXRzIGNoaWxkcmVuIGNsYXNzZXNcbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xuLy8gY2hpbGQgb2YgUG9wdXBcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEZvcm0gZXh0ZW5kcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IsIGhhbmRsZUZvcm1TdWJtaXQpIHtcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcbiAgICB0aGlzLl9wb3B1cEZvcm0gPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fZm9ybVwiKTtcbiAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0ID0gaGFuZGxlRm9ybVN1Ym1pdDtcbiAgICB0aGlzLl9pbnB1dEVscyA9IFsuLi50aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5tb2RhbF9faW5wdXRcIildO1xuICAgIGNvbnN0IHN1Ym1pdEJ1dHRvbiA9IHRoaXMuX3BvcHVwRm9ybS5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19idXR0b25cIik7XG4gICAgdGhpcy5fc3VibWl0QnRuVGV4dCA9IHRoaXMuX3N1Ym1pdEJ0blRleHQudGV4dENvbnRlbnQ7XG4gICAgdGhpcy5zZXRFdmVudExpc3RlbmVycygpO1xuICAgIC8vSXQgYWNjZXB0cyB0d28gYXJndW1lbnRzOiB0aGUgcG9wdXAgc2VsZWN0b3IgYW5kIGEgY2FsbGJhY2sgZnVuY3Rpb25cbiAgICAvLyB3aGljaCBQb3B1cFdpdGhGb3JtIGNhbGxzIHdoZW4gdGhlIGZvcm3igJlzIHN1Ym1pdCBldmVudCBmaXJlcy5cbiAgfVxuICByZW5kZXJMb2FkaW5nKGlzTG9hZGluZywgbG9hZGluZ1RleHQgPSBcIlNhdmluZy4uLlwiKSB7XG4gICAgLy8gLy8gY29uc3Qgc3VibWl0QnV0dG9uID0gdGhpcy5fcG9wdXBGb3JtLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2J1dHRvblwiKTtcbiAgICAvLyBpZiAobG9hZGluZykge1xuICAgIC8vICAgc3VibWl0QnV0dG9uLnRleHRDb250ZW50ID0gXCJTYXZpbmcuLi5cIjtcbiAgICAvLyB9IGVsc2Uge1xuICAgIC8vICAgc3VibWl0QnV0dG9uLnRleHRDb250ZW50ID0gXCJTYXZlXCI7XG4gICAgLy8gfVxuXG4gICAgaWYgKGlzTG9hZGluZykge1xuICAgICAgdGhpcy5fc3VibWl0QnRuVGV4dC50ZXh0Q29udGVudCA9IGxvYWRpbmdUZXh0O1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBoZXJlIHdlIHJldHVybiBiYWNrIHRoZSBpbml0aWFsIHRleHQuIFNvLCB5b3UgZG9u4oCZdCBuZWVkIHRvIGJvdGhlciB5b3Vyc2VsZiBhYm91dCBpdFxuICAgICAgdGhpcy5fc3VibWl0QnRuVGV4dC50ZXh0Q29udGVudCA9IHRoaXMuX3N1Ym1pdEJ0blRleHQ7XG4gICAgfVxuICB9XG5cbiAgX2dldElucHV0VmFsdWVzKCkge1xuICAgIC8vd2hpY2ggY29sbGVjdHMgZGF0YSBmcm9tIGFsbCB0aGUgaW5wdXQgZmllbGRzIGFuZCByZXR1cm5zIGl0IGFzIGFuIG9iamVjdFxuICAgIC8vdGhpcyBkYXRhIHNob3VsZCB0aGVuIGJlIHBhc3NlZCB0byB0aGUgc3VibWlzc2lvbiBoYW5kbGVyIGFzIGFuIGFyZ3VtZW50XG4gICAgY29uc3QgaW5wdXRWYWx1ZXMgPSB7fTtcbiAgICB0aGlzLl9pbnB1dEVscy5mb3JFYWNoKChpbnB1dCkgPT4ge1xuICAgICAgaW5wdXRWYWx1ZXNbaW5wdXQubmFtZV0gPSBpbnB1dC52YWx1ZTtcbiAgICB9KTtcbiAgICByZXR1cm4gaW5wdXRWYWx1ZXM7XG4gIH1cbiAgc2V0SW5wdXRWYWx1ZXMoYXJyKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHtcbiAgICAgIHRoaXMuX2lucHV0RWxzW2ldLnZhbHVlID0gYXJyW2ldO1xuICAgIH1cbiAgfVxuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIC8vSXQgb3ZlcnJpZGVzIHRoZSBzZXRFdmVudExpc3RlbmVycygpIHBhcmVudCBtZXRob2RcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xuICAgIHRoaXMuX3BvcHVwRm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChlKSA9PiB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0KHRoaXMuX2dldElucHV0VmFsdWVzKCkpO1xuICAgICAgLy90aGlzLmNsb3NlKCk7XG4gICAgfSk7XG4gICAgLy9UaGUgc2V0RXZlbnRMaXN0ZW5lcnMoKSBtZXRob2Qgb2YgdGhlIFBvcHVwV2l0aEZvcm0gY2xhc3Mgc2hvdWxkIGFkZCBhIHN1Ym1pdCBldmVudCBsaXN0ZW5lciB0byB0aGUgZm9ybVxuICAgIC8vYW5kIGNhbGwgdGhlIHNldEV2ZW50TGlzdGVuZXJzKCkgbWV0aG9kIG9mIHRoZSBwYXJlbnQgY2xhc3NcbiAgfVxuXG4gIC8vIHJlbmRlckxvYWRpbmcobG9hZGluZykge1xuICAvLyAgIC8vIGNvbnN0IHN1Ym1pdEJ1dHRvbiA9IHRoaXMuX3BvcHVwRm9ybS5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19idXR0b25cIik7XG4gIC8vICAgaWYgKGxvYWRpbmcpIHtcbiAgLy8gICAgIHN1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudCA9IFwiU2F2aW5nLi4uXCI7XG4gIC8vICAgfSBlbHNlIHtcbiAgLy8gICAgIHN1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudCA9IFwiU2F2ZVwiO1xuICAvLyAgIH1cbiAgLy8gfVxufVxuIiwiaW1wb3J0IHsgaW5pdGlhbENhcmRzLCBjb25maWcgfSBmcm9tIFwiLi4vdXRpbHMvY29uc3RhbnRzLmpzXCI7XG5pbXBvcnQgQ2FyZCBmcm9tIFwiLi4vY29tcG9uZW50cy9DYXJkLmpzXCI7XG5pbXBvcnQgRm9ybVZhbGlkYXRvciBmcm9tIFwiLi4vY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzXCI7XG5pbXBvcnQgU2VjdGlvbiBmcm9tIFwiLi4vY29tcG9uZW50cy9TZWN0aW9uLmpzXCI7XG5pbXBvcnQgUG9wdXBXaXRoRm9ybSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzXCI7XG5pbXBvcnQgUG9wdXBXaXRoSW1hZ2UgZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanNcIjtcbmltcG9ydCBQb3B1cFdpdGhDb25maXJtYXRpb24gZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoQ29uZmlybWF0aW9uLmpzXCI7XG5pbXBvcnQgVXNlckluZm8gZnJvbSBcIi4uL2NvbXBvbmVudHMvVXNlckluZm8uanNcIjtcbmltcG9ydCBBcGkgZnJvbSBcIi4uL2NvbXBvbmVudHMvQVBJLmpzXCI7XG5pbXBvcnQgXCIuL2luZGV4LmNzc1wiO1xuXG4vKioqRWxlbWVudHMgKi9cbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG5jb25zdCBwcm9maWxlRWRpdEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJvZmlsZS1lZGl0LWJ1dHRvblwiKTtcbmNvbnN0IGFkZENhcmRNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjYWRkLWNhcmQtbW9kYWxcIik7XG5cbmNvbnN0IGFkZENhcmRGb3JtID0gYWRkQ2FyZE1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2Zvcm1cIik7XG5cbmNvbnN0IGFkZE5ld0NhcmRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2FkZC1idXR0b25cIik7XG5jb25zdCBlZGl0QXZhdGFyQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19lZGl0LWF2YXRhci1idXR0b25cIik7XG5cbi8vIGNvbnN0IGVkaXRBdmF0YXJNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZWRpdC1hdmF0YXItbW9kYWxcIik7XG5cbmNvbnN0IGFwaSA9IG5ldyBBcGkoe1xuICBiYXNlVXJsOiBcImh0dHBzOi8vYXJvdW5kLWFwaS5lbi50cmlwbGV0ZW4tc2VydmljZXMuY29tL3YxXCIsXG4gIGhlYWRlcnM6IHtcbiAgICBhdXRob3JpemF0aW9uOiBcIjVmMzY0YTcwLTYzNTQtNGQ3Zi1iM2UxLTIxYThmY2ZhY2UyZFwiLFxuICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICB9LFxufSk7XG5jb25zdCBlZGl0UHJvZmlsZVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKGNvbmZpZywgXCIjcHJvZmlsZS1lZGl0LWZvcm1cIik7XG5jb25zdCBhZGRDYXJkVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IoY29uZmlnLCBcIiNhZGQtY2FyZC1mb3JtXCIpO1xuY29uc3QgZWRpdEF2YXRhclZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKGNvbmZpZywgXCIjZWRpdC1hdmF0YXItZm9ybVwiKTtcblxuY29uc3QgZWRpdFByb2ZpbGVQb3B1cCA9IG5ldyBQb3B1cFdpdGhGb3JtKFxuICBcIiNwcm9maWxlLWVkaXQtbW9kYWxcIixcbiAgaGFuZGxlUHJvZmlsZUVkaXRTdWJtaXRcbik7XG5cbmNvbnN0IGFkZENhcmRQb3B1cCA9IG5ldyBQb3B1cFdpdGhGb3JtKFwiI2FkZC1jYXJkLW1vZGFsXCIsIGhhbmRsZUFkZENhcmRTdWJtaXQpO1xuY29uc3QgZWRpdEF2YXRhclBvcHVwID0gbmV3IFBvcHVwV2l0aEZvcm0oXG4gIFwiI2VkaXQtYXZhdGFyLW1vZGFsXCIsXG4gIGhhbmRsZUVkaXRBdmF0YXJTdWJtaXRcbik7XG5jb25zdCBwcmV2aWV3SW1hZ2VQb3B1cCA9IG5ldyBQb3B1cFdpdGhJbWFnZShcIiNwcmV2aWV3LWltYWdlLW1vZGFsXCIpO1xuY29uc3QgZGVsZXRlQ29uZmlybWF0aW9uUG9wdXAgPSBuZXcgUG9wdXBXaXRoQ29uZmlybWF0aW9uKFxuICBcIiNkZWxldGUtY29uZmlybWF0aW9uLW1vZGFsXCJcbik7XG5jb25zdCBwcm9maWxlVXNlckluZm8gPSBuZXcgVXNlckluZm8oe1xuICBuYW1lU2VsZWN0b3I6IFwiLnByb2ZpbGVfX3RpdGxlXCIsXG4gIGpvYlNlbGVjdG9yOiBcIi5wcm9maWxlX19kZXNjcmlwdGlvblwiLFxuICBhdmF0YXJTZWxlY3RvcjogXCIucHJvZmlsZV9faW1hZ2VcIixcbn0pO1xuXG4vKiBFdmVudCBIYW5kbGVycyAqL1xuZnVuY3Rpb24gaGFuZGxlRWRpdEF2YXRhclN1Ym1pdChpbnB1dFZhbHVlcykge1xuICBlZGl0QXZhdGFyUG9wdXAucmVuZGVyTG9hZGluZyh0cnVlKTtcbiAgYXBpXG4gICAgLnVwZGF0ZUF2YXRhcihpbnB1dFZhbHVlcy5saW5rKVxuICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgIHByb2ZpbGVVc2VySW5mby5zZXRVc2VyQXZhdGFyKHJlcy5hdmF0YXIpO1xuICAgICAgZWRpdEF2YXRhclBvcHVwLmNsb3NlKCk7XG4gICAgfSlcbiAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xuICAgICAgYWxlcnQoYCR7ZXJyfS4gRmFpbGVkIHRvIGVkaXQgYXZhdGFyIDooYCk7IC8vIGxvZyB0aGUgZXJyb3IgdG8gdGhlIGNvbnNvbGVcbiAgICB9KVxuICAgIC5maW5hbGx5KCgpID0+IHtcbiAgICAgIGVkaXRBdmF0YXJQb3B1cC5yZW5kZXJMb2FkaW5nKGZhbHNlKTtcbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gaGFuZGxlSW1hZ2VDbGljayhkYXRhKSB7XG4gIHByZXZpZXdJbWFnZVBvcHVwLm9wZW4oZGF0YS5uYW1lLCBkYXRhLmxpbmspO1xufVxuXG5mdW5jdGlvbiBoYW5kbGVQcm9maWxlRWRpdFN1Ym1pdChpbnB1dFZhbHVlcykge1xuICBlZGl0UHJvZmlsZVBvcHVwLnJlbmRlckxvYWRpbmcodHJ1ZSk7XG4gIC8vc2hvdWxkIGJlIGhhbmRsZWQgYnkgdXNlcmluZm8gY2xhc3NcblxuICBhcGlcbiAgICAudXBkYXRlUHJvZmlsZUluZm8oaW5wdXRWYWx1ZXMpIC8ve3RpdGxlOiBkZGQsIGRlc2NyaXB0aW9uOiBra31cbiAgICAudGhlbigoZGF0YSkgPT4ge1xuICAgICAgcHJvZmlsZVVzZXJJbmZvLnNldFVzZXJJbmZvKGlucHV0VmFsdWVzLnRpdGxlLCBpbnB1dFZhbHVlcy5kZXNjcmlwdGlvbik7XG4gICAgICBlZGl0UHJvZmlsZVBvcHVwLmNsb3NlKCk7XG4gICAgICAvL3Byb2ZpbGVVc2VySW5mby5zZXRVc2VySW5mbyhkYXRhLm5hbWUsIGRhdGEuYWJvdXQpO1xuICAgICAgLy9jb25zb2xlLmxvZyhcIk5hbWU6XCIsIGRhdGEubmFtZSwgXCJKb2I6XCIsIGRhdGEuYWJvdXQpO1xuICAgIH0pXG4gICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgICAgIGFsZXJ0KGAke2Vycn0uIEZhaWxlZCB0byB1cGRhdGUgcHJvZmlsZSBpbmZvIDooYCk7IC8vIGxvZyB0aGUgZXJyb3IgdG8gdGhlIGNvbnNvbGVcbiAgICB9KVxuICAgIC5maW5hbGx5KCgpID0+IHtcbiAgICAgIGVkaXRQcm9maWxlUG9wdXAucmVuZGVyTG9hZGluZyhmYWxzZSk7XG4gICAgfSk7XG59XG5cbi8vbGlrZXMgYnV0dG9uXG5mdW5jdGlvbiBoYW5kbGVMaWtpbmdJY29uKGNhcmQpIHtcbiAgLy9mZXRjaCB0byBsaWtlIGNhcmQgb24gc2VydmVyXG4gIGFwaVxuICAgIC5saWtlQ2FyZChjYXJkLl9pZClcblxuICAgIC8vaWYgc3VjY2Vzc2Z1bC4gd2UgbGlrZSBjYXJkIGxvY2FsbHlcbiAgICAudGhlbigoKSA9PiB7XG4gICAgICBjYXJkLmZpbGxJbkxpa2VJY29uKCk7XG4gICAgICBjYXJkLmlzTGlrZWQgPSBmYWxzZTtcbiAgICB9KVxuICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgICBhbGVydChgJHtlcnJ9LiBGYWlsZWQgdG8gbGlrZSBjYXJkIDooYCk7XG4gICAgfSk7XG59XG4vL3VubGlrZXMgYnV0dG9uXG5mdW5jdGlvbiBoYW5kbGVVbmxpa2luZ0ljb24oY2FyZCkge1xuICAvL2RlbGV0ZSBsaWtlIG9uIHNlcnZlclxuICBhcGlcbiAgICAuZGlzbGlrZUNhcmQoY2FyZC5faWQpXG4gICAgLy9pZiBzdWNjZXNzZnVsbCwgdW5saWtlIGNhcmQgbG9jYWxseVxuICAgIC50aGVuKCgpID0+IHtcbiAgICAgIGNhcmQuY2xlYXJMaWtlSWNvbigpO1xuICAgICAgY2FyZC5pc0xpa2VkID0gdHJ1ZTtcbiAgICB9KVxuICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgICBhbGVydChgJHtlcnJ9LiBGYWlsZWQgdG8gdW5saWtlIGNhcmQgOihgKTtcbiAgICB9KTtcbn1cblxuLy9kZWxldGUgY29uZmltYXRpb24gZnVuY3Rpb25cbi8vcnVucyB3aGVuIHlvdSBjbGljayB0aGUgdHJhc2ggYnV0dG9uXG5mdW5jdGlvbiBoYW5kbGVEZWxldGVDbGljayhjYXJkKSB7XG4gIC8vcnVucyB3aGVuIHlvdSBjbGljayB5ZXMgb24gdGhlIGRlbGV0ZSBjb25maXJtIG1vZGFsXG4gIGZ1bmN0aW9uIGhhbmRsZURlbGV0ZUNvbmZpcm1hdGlvblN1Ym1pdCgpIHtcbiAgICAvL2RlbGV0ZSBjYXJkIG9uIHNlcnZlclxuICAgIGFwaVxuICAgICAgLmRlbGV0ZUNhcmQoY2FyZC5faWQpXG4gICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgIGRlbGV0ZUNvbmZpcm1hdGlvblBvcHVwLmNsb3NlKCk7XG4gICAgICAgIC8vZGVsZXRlcyBjYXJkIGxvY2FsbHlcbiAgICAgICAgY2FyZC5oYW5kbGVEZWxldGVDYXJkKCk7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xuICAgICAgICBhbGVydChgJHtlcnJ9LiBGYWlsZWQgdG8gZGVsZXRlIGNhcmQgOihgKTtcbiAgICAgIH0pO1xuICB9XG5cbiAgLy9vcGVuIHRoZSBkZWxldGUgY29uZmlybSBtb2RhbFxuICBkZWxldGVDb25maXJtYXRpb25Qb3B1cC5vcGVuKCk7XG4gIGRlbGV0ZUNvbmZpcm1hdGlvblBvcHVwLnNldFN1Ym1pdEhhbmRsZXIoaGFuZGxlRGVsZXRlQ29uZmlybWF0aW9uU3VibWl0KTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlQ2FyZChjYXJkRGF0YSkge1xuICBjb25zdCBjYXJkID0gbmV3IENhcmQoXG4gICAgY2FyZERhdGEsXG4gICAgXCIjY2FyZC10ZW1wbGF0ZVwiLFxuICAgIGhhbmRsZUltYWdlQ2xpY2ssXG4gICAgaGFuZGxlRGVsZXRlQ2xpY2ssXG4gICAgaGFuZGxlVW5saWtpbmdJY29uLFxuICAgIGhhbmRsZUxpa2luZ0ljb25cbiAgKTtcbiAgcmV0dXJuIGNhcmQuZ2V0Q2FyZEVsZW1lbnQoKTtcbn1cblxuZnVuY3Rpb24gaGFuZGxlQWRkQ2FyZFN1Ym1pdChpbnB1dFZhbHVlcykge1xuICBhZGRDYXJkUG9wdXAucmVuZGVyTG9hZGluZyh0cnVlKTtcbiAgYXBpXG4gICAgLmNyZWF0ZUNhcmQoaW5wdXRWYWx1ZXMpXG4gICAgLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgIGNhcmRTZWN0aW9uLmFkZEl0ZW0oZGF0YSk7XG4gICAgICBhZGRDYXJkUG9wdXAuY2xvc2UoKTtcbiAgICAgIGFkZENhcmRGb3JtLnJlc2V0KCk7XG4gICAgICBhZGRDYXJkVmFsaWRhdG9yLnJlc2V0VmFsaWRhdGlvbigpO1xuICAgIH0pXG4gICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgICAgIGFsZXJ0KGAke2Vycn0uIEZhaWxlZCB0byBhZGQgbmV3IGNhcmQgOihgKTtcbiAgICB9KVxuICAgIC5maW5hbGx5KCgpID0+IHtcbiAgICAgIGFkZENhcmRQb3B1cC5yZW5kZXJMb2FkaW5nKGZhbHNlKTtcbiAgICB9KTtcbn1cblxuLyogRXZlbnQgTGlzdGVuZXJzICovXG5cbnByb2ZpbGVFZGl0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gIC8vd2hhdCdzIGluc2lkZSBvZiBhcnIgc2hvdWxkIGJlIGdvdHRlbiBieSB0aGUgdXNlaW5mbyBjbGFzc1xuXG4gIGNvbnN0IHVzZXJJbmZvID0gcHJvZmlsZVVzZXJJbmZvLmdldFVzZXJJbmZvKCk7XG4gIGNvbnN0IGFyciA9IFt1c2VySW5mby5uYW1lLCB1c2VySW5mby5qb2JdO1xuICBlZGl0UHJvZmlsZVBvcHVwLnNldElucHV0VmFsdWVzKGFycik7XG4gIGVkaXRQcm9maWxlVmFsaWRhdG9yLnJlc2V0VmFsaWRhdGlvbigpO1xuICBlZGl0UHJvZmlsZVBvcHVwLm9wZW4oKTtcbn0pO1xuXG4vLyBGb3JtIExpc3RlbmVyc1xuZWRpdEF2YXRhckJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICBlZGl0QXZhdGFyUG9wdXAub3BlbigpO1xufSk7XG4vL0FkZCBOZXcgQ2FyZCBCdXR0b25cblxuYWRkTmV3Q2FyZEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4gYWRkQ2FyZFBvcHVwLm9wZW4oKSk7XG5cbi8vSW5pdGlhbGl6YXRpb25cblxuZWRpdFByb2ZpbGVWYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xuYWRkQ2FyZFZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XG5lZGl0QXZhdGFyVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcblxuY29uc3QgY2FyZFNlY3Rpb24gPSBuZXcgU2VjdGlvbihcbiAgeyBpdGVtczogW10sIHJlbmRlcmVyOiBjcmVhdGVDYXJkIH0sXG4gIFwiLmNhcmRzX19saXN0XCJcbik7XG5cbmFwaVxuICAuZ2V0SW5pdGlhbENhcmRzKClcbiAgLnRoZW4oKGNhcmRzKSA9PiB7XG4gICAgLy8gcHJvY2VzcyB0aGUgcmVzdWx0XG4gICAgY2FyZFNlY3Rpb24uc2V0SXRlbXMoY2FyZHMucmV2ZXJzZSgpKTtcbiAgICBjYXJkU2VjdGlvbi5yZW5kZXJJdGVtcygpO1xuICB9KVxuICAuY2F0Y2goKGVycikgPT4ge1xuICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgICBhbGVydChgJHtlcnJ9LiBGYWlsZWQgdG8gbG9hZCBjYXJkcyA6KGApOyAvLyBsb2cgdGhlIGVycm9yIHRvIHRoZSBjb25zb2xlXG4gIH0pO1xuXG5hcGlcbiAgLmdldFVzZXJzSW5mbygpXG5cbiAgLnRoZW4oKGRhdGEpID0+IHtcbiAgICBwcm9maWxlVXNlckluZm8uc2V0VXNlckF2YXRhcihkYXRhLmF2YXRhcik7XG4gICAgcHJvZmlsZVVzZXJJbmZvLnNldFVzZXJJbmZvKGRhdGEubmFtZSwgZGF0YS5hYm91dCk7XG4gIH0pXG4gIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgY29uc29sZS5lcnJvcihlcnIpO1xuICAgIGFsZXJ0KGAke2Vycn0uIEZhaWxlZCB0byBnZXQgdXNlciBpbmZvIDooYCk7IC8vIGxvZyB0aGUgZXJyb3IgdG8gdGhlIGNvbnNvbGVcbiAgfSk7XG5cbi8vIGFwaVxuXG4vLyAgIC5saWtlQ2FyZChpbnB1dFZhbHVlcylcbi8vICAgLnRoZW4oKGRhdGEpID0+IHtcbi8vICAgICBjb25zdCBjYXJkID0gbmV3IENhcmQoY2FyZERhdGEsIFwiI2NhcmQtdGVtcGxhdGVcIiwgaGFuZGxlSW1hZ2VDbGljayk7XG4vLyAgICAgY2FyZC5faGFuZGxlTGlrZUljb24oKTtcbi8vICAgfSlcbi8vICAgLmNhdGNoKChlcnIpID0+IHtcbi8vICAgICBjb25zb2xlLmVycm9yKGVycik7XG4vLyAgICAgYWxlcnQoYCR7ZXJyfS4gRmFpbGVkIHRvIGxpa2UgY2FyZCA6KGApOyAvLyBsb2cgdGhlIGVycm9yIHRvIHRoZSBjb25zb2xlXG4vLyAgIH0pO1xuIiwiaW1wb3J0IHsgaW5pdGlhbENhcmRzIH0gZnJvbSBcIi4uL3V0aWxzL2NvbnN0YW50c1wiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBcGkge1xuICBjb25zdHJ1Y3Rvcih7IGJhc2VVcmwsIGhlYWRlcnMgfSkge1xuICAgIHRoaXMuX2Jhc2VVcmwgPSBiYXNlVXJsO1xuICAgIHRoaXMuX2hlYWRlcnMgPSBoZWFkZXJzO1xuICB9XG5cbiAgX2NoZWNrUmVzcG9uc2UocmVzKSB7XG4gICAgaWYgKHJlcy5vaykge1xuICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XG4gICAgfVxuICAgIC8vIGlmIHRoZSBzZXJ2ZXIgcmV0dXJucyBhbiBlcnJvciwgcmVqZWN0IHRoZSBwcm9taXNlXG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGBFcnJvcjogJHtyZXMuc3RhdHVzfWApO1xuICAgIC8vdGhyb3cgbmV3IEVycm9yKGBFcnJvcjogJHtyZXMuc3RhdHVzfWApO1xuICB9XG5cbiAgX3JlcXVlc3QodXJsLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIGZldGNoKHVybCwgb3B0aW9ucykudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKTtcbiAgfVxuXG4gIGdldEluaXRpYWxDYXJkcygpIHtcbiAgICB0aGlzLl9yZXF1ZXN0KGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzYCwge1xuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICB9KTtcbiAgfVxuXG4gIGdldFVzZXJzSW5mbygpIHtcbiAgICB0aGlzLl9yZXF1ZXN0KGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lYCwge1xuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICB9KTtcbiAgfVxuXG4gIHVwZGF0ZVByb2ZpbGVJbmZvKHsgdGl0bGUsIGRlc2NyaXB0aW9uIH0pIHtcbiAgICB0aGlzLl9yZXF1ZXN0KGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lYCwge1xuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBuYW1lOiB0aXRsZSxcbiAgICAgICAgYWJvdXQ6IGRlc2NyaXB0aW9uLFxuICAgICAgfSksXG4gICAgfSk7XG4gIH1cblxuICB1cGRhdGVBdmF0YXIodXJsKSB7XG4gICAgdGhpcy5fcmVxdWVzdChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZS9hdmF0YXJgLCB7XG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIGF2YXRhcjogdXJsLFxuICAgICAgfSksXG4gICAgfSk7XG4gIH1cblxuICBjcmVhdGVDYXJkKHsgbmFtZSwgbGluayB9KSB7XG4gICAgdGhpcy5fcmVxdWVzdChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkc2AsIHtcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBuYW1lOiBuYW1lLFxuICAgICAgICBsaW5rOiBsaW5rLFxuICAgICAgfSksXG4gICAgfSk7XG4gIH1cblxuICBsaWtlQ2FyZChjYXJkSWQpIHtcbiAgICB0aGlzLl9yZXF1ZXN0KGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzLyR7Y2FyZElkfS9saWtlc2AsIHtcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICBtZXRob2Q6IFwiUFVUXCIsXG4gICAgICAvLyAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgIC8vIGlzTGlrZWQ6IGRhdGEuaXNMaWtlZCxcbiAgICAgIC8vIGlkOiBkYXRhLl9pZCxcbiAgICAgIC8vICAgfSksXG4gICAgfSk7XG4gIH1cblxuICBkaXNsaWtlQ2FyZChjYXJkSWQpIHtcbiAgICB0aGlzLl9yZXF1ZXN0KGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzLyR7Y2FyZElkfS9saWtlc2AsIHtcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXG4gICAgfSk7XG4gIH1cblxuICBkZWxldGVDYXJkKGNhcmRJZCkge1xuICAgIHRoaXMuX3JlcXVlc3QoYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvJHtjYXJkSWR9YCwge1xuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcbiAgICB9KTtcbiAgfVxuXG4gIC8vICAgVXNlciByb3V0ZXNcbiAgLy8gR0VUIC91c2Vycy9tZSDigJMgR2V0IHRoZSBjdXJyZW50IHVzZXLigJlzIGluZm8gRE9ORVxuICAvLyBQQVRDSCAvdXNlcnMvbWUg4oCTIFVwZGF0ZSB5b3VyIHByb2ZpbGUgaW5mb3JtYXRpb25cbiAgLy8gUEFUQ0ggL3VzZXJzL21lL2F2YXRhciDigJMgVXBkYXRlIGF2YXRhclxuXG4gIC8vIENhcmQgcm91dGVzXG4gIC8vIC8vIEdFVCAvY2FyZHMg4oCTIEdldCBhbGwgY2FyZHMgRE9ORVxuICAvLyBQT1NUIC9jYXJkcyDigJMgQ3JlYXRlIGEgY2FyZFxuICAvLyBERUxFVEUgL2NhcmRzLzpjYXJkSWQg4oCTIERlbGV0ZSBhIGNhcmRcbiAgLy8gUFVUIC9jYXJkcy86Y2FyZElkL2xpa2VzIOKAkyBMaWtlIGEgY2FyZFxuICAvLyBERUxFVEUgL2NhcmRzLzpjYXJkSWQvbGlrZXMg4oCTIERpc2xpa2UgYSBjYXJkXG59XG4iLCIvL2NoaWxkIG9mIFBvcHVwXG5cbmltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xuICAgIHRoaXMuX2ltYWdlRWwgPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9faW1hZ2VcIik7XG4gICAgdGhpcy5fY2FwdGlvbkVsID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX3ByZXZpZXctdGl0bGVcIik7XG4gICAgdGhpcy5zZXRFdmVudExpc3RlbmVycygpO1xuICB9XG4gIC8vVGhlIG9wZW4oKSBtZXRob2Qgb2YgdGhlIFBvcHVwV2l0aEltYWdlIGNsYXNzIHdpbGwgbmVlZCB0byBhY2NlcHQgdGhlIG5hbWUgYW5kIGxpbmsgb2YgdGhlIGNhcmQgYXMgYXJndW1lbnRzXG4gIC8vYW5kIGFkZCBhbiBpbWFnZSB0byB0aGUgcG9wdXAgYW5kIHRoZSBjb3JyZXNwb25kaW5nIGltYWdlIHNyYyBhdHRyaWJ1dGUgYWxvbmcgd2l0aCBhIGNhcHRpb24gZm9yIHRoZSBpbWFnZVxuICAvLyBUaGlzIG1ldGhvZCBzaG91bGQgYmUgY2FsbGVkIGluIHlvdXIgaW1hZ2UgY2xpY2sgaGFuZGxlciBpbiBpbmRleC5qcy5cbiAgb3BlbihuYW1lLCBsaW5rKSB7XG4gICAgLy8gc2V0IHRoZSBpbWFnZSdzIHNyYyBhbmQgYWx0XG4gICAgLy8gc2V0IHRoZSBjYXB0aW9uJ3MgdGV4dENvbnRlbnRcbiAgICB0aGlzLl9pbWFnZUVsLnNyYyA9IGxpbms7XG4gICAgdGhpcy5faW1hZ2VFbC5hbHQgPSBuYW1lO1xuICAgIHRoaXMuX2NhcHRpb25FbC50ZXh0Q29udGVudCA9IG5hbWU7XG4gICAgc3VwZXIub3BlbigpO1xuICB9XG59XG4iLCIvL2NoaWxkIG9mIFBvcHVwXG5pbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aENvbmZpcm1hdGlvbiBleHRlbmRzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3RvciwgaGFuZGxlRm9ybVN1Ym1pdCkge1xuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xuICAgIHRoaXMuX3BvcHVwRm9ybSA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19mb3JtXCIpO1xuICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQgPSBoYW5kbGVGb3JtU3VibWl0O1xuICAgIHRoaXMuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgfVxuXG4gIHNldFN1Ym1pdEhhbmRsZXIoaGFuZGxlcikge1xuICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQgPSBoYW5kbGVyO1xuICB9XG5cbiAgLy9zZXQgY29uZmlybWF0aW9uIG1ldGhvZD9cbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgICB0aGlzLl9wb3B1cEZvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZSkgPT4ge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCgpO1xuICAgIH0pO1xuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBVc2VySW5mbyB7XG4gIGNvbnN0cnVjdG9yKHsgbmFtZVNlbGVjdG9yLCBqb2JTZWxlY3RvciwgYXZhdGFyU2VsZWN0b3IgfSkge1xuICAgIC8vVGFrZSBhbiBvYmplY3Qgd2l0aCB0aGUgc2VsZWN0b3JzIG9mIHR3byBlbGVtZW50cyBpbnRvIHRoZSBjb25zdHJ1Y3RvcjpcbiAgICAvL29uZSBmb3IgdGhlIHByb2ZpbGXigJlzIG5hbWUgZWxlbWVudCBhbmQgb25lIGZvciBpdHMgam9iIGVsZW1lbnRcbiAgICB0aGlzLl9uYW1lRWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKG5hbWVTZWxlY3Rvcik7XG4gICAgdGhpcy5fam9iRWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGpvYlNlbGVjdG9yKTtcbiAgICB0aGlzLl9hdmF0YXJFbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYXZhdGFyU2VsZWN0b3IpO1xuICB9XG4gIGdldFVzZXJJbmZvKCkge1xuICAgIC8vcmV0dXJucyBhbiBvYmplY3QgY29udGFpbmluZyBpbmZvcm1hdGlvbiBhYm91dCB0aGUgdXNlclxuICAgIC8vIHRoaXMgbWV0aG9kIHdpbGwgYmUgaGFuZHkgZm9yIGNhc2VzIHdoZW4gaXQncyBuZWNlc3NhcnkgdG8gZGlzcGxheSB0aGUgdXNlciBkYXRhIGluIHRoZSBvcGVuIGZvcm1cblxuICAgIHJldHVybiB7XG4gICAgICBuYW1lOiB0aGlzLl9uYW1lRWwudGV4dENvbnRlbnQsXG4gICAgICBqb2I6IHRoaXMuX2pvYkVsLnRleHRDb250ZW50LFxuICAgIH07XG4gIH1cbiAgc2V0VXNlckluZm8obmFtZSwgam9iKSB7XG4gICAgLy90YWtlcyBuZXcgdXNlciBkYXRhIGFuZCBhZGRzIGl0IHRvIHRoZSBwYWdlXG4gICAgLy9UaGlzIG1ldGhvZCBzaG91bGQgYmUgdXNlZCBhZnRlciBzdWNjZXNzZnVsIHN1Ym1pc3Npb24gb2YgdGhlIHByb2ZpbGUgZm9ybVxuICAgIHRoaXMuX25hbWVFbC50ZXh0Q29udGVudCA9IG5hbWU7XG4gICAgdGhpcy5fam9iRWwudGV4dENvbnRlbnQgPSBqb2I7XG4gIH1cbiAgc2V0VXNlckF2YXRhcihhdmF0YXIpIHtcbiAgICB0aGlzLl9hdmF0YXJFbC5zcmMgPSBhdmF0YXI7XG4gIH1cbn1cblxuLy8ge25hbWU6IGphcXVlIGNvdXNyYXVvLCBqb2I6IGV4cGxvZXJ9XG5cbi8vcHJvZmlsZVVzZXJJbmZvLnNldFVzZXJJbmZvKFwiQmlsbFwiLCBcImNhcHJlbnRlclwiKTtcblxuLy9mb290ZXJUZXh0LnRleHRDb250ZW50ID0gXCJIZWxsbG9cIjtcbiIsIi8vaGFuZGxlcyBhIHNlY3Rpb24gb2YgdGhlIHBhZ2UsIGJ5IHRha2luZyBpbiAnZGF0YScsIGNvbnZlcnRpbmcgaXQgdG8gaHRtbCwgYW5kIHBsYWNpbmcgaXQgb24gdGhlIHBhZ2VcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlY3Rpb24ge1xuICBjb25zdHJ1Y3Rvcih7IGl0ZW1zLCByZW5kZXJlciB9LCBjbGFzc1NlbGVjdG9yKSB7XG4gICAgLy9UaGUgaXRlbXMgcHJvcGVydHkgc2hvdWxkIGJlIGFuIGFycmF5IG9mIGRhdGEsIHdoaWNoIHlvdSBtdXN0IGFkZCB0byB0aGUgcGFnZSB3aGVuIGl0IGxvYWRzXG4gICAgdGhpcy5faXRlbXMgPSBpdGVtcztcblxuICAgIC8vVGhlIHJlbmRlcmVyIHByb3BlcnR5IHNob3VsZCBiZSBhIGZ1bmN0aW9uIHRoYXQgdGFrZXMgZGF0YSBhbmQgY29udmVydHMgaXQgdG8gaHRtbFxuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XG5cbiAgICAvL0l0cyBzZWNvbmQgY29uc3RydWN0b3IgcGFyYW1ldGVyIHNob3VsZCBiZSBhIENTUyBjbGFzcyBzZWxlY3RvciB3aGVyZSB5b3UnbGwgYWRkIHRoZSBjYXJkIGVsZW1lbnRzLlxuICAgIHRoaXMuX2NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY2xhc3NTZWxlY3Rvcik7XG4gIH1cblxuICBhZGRJdGVtKGRhdGEpIHtcbiAgICAvL3Rha2VzIGRhdGEsIGNvbnZlcnRzIGl0IHRvIGh0bWwsIGFuZCBwbGFjZXMgaXQgb24gdGhlIHBhZ2VcbiAgICBjb25zdCBlbGVtZW50ID0gdGhpcy5fcmVuZGVyZXIoZGF0YSk7XG4gICAgLy8gc2hvdWxkIGJlIGNhbGxlZCB3aGVuIGFkZGluZyBhbiBpbmRpdmlkdWFsIGNhcmQgdG8gdGhlIERPTVxuICAgIHRoaXMuX2NvbnRhaW5lci5wcmVwZW5kKGVsZW1lbnQpO1xuICB9XG4gIHJlbmRlckl0ZW1zKCkge1xuICAgIC8vcmVuZGVycyBhbGwgZWxlbWVudHMgb24gdGhlIHBhZ2UuXG4gICAgLy9pdGVyYXRlcyB0aHJvdWdoIHRoZSBpdGVtcyBhcnJheSBhbmQgY2FsbCB0aGUgcmVuZGVyZXIoKSBmdW5jdGlvbiBvbiBlYWNoIGl0ZW1cbiAgICAvL3Nob3VsZCBiZSBjYWxsZWQgb25jZSBvbiBwYWdlIGxvYWRcbiAgICB0aGlzLl9pdGVtcy5mb3JFYWNoKChkYXRhKSA9PiB7XG4gICAgICB0aGlzLmFkZEl0ZW0oZGF0YSk7XG4gICAgfSk7XG4gIH1cblxuICBzZXRJdGVtcyhhcnIpIHtcbiAgICB0aGlzLl9pdGVtcyA9IGFycjtcbiAgfVxuXG4gIC8vIGRlbGV0ZUl0ZW0oY2FyZElkKSB7XG4gIC8vICAgdGhpcy5faXRlbXMuZm9yRWFjaCgoaXRlbSkgPT4gY29uc29sZS5sb2coaXRlbS5faWQgPT0gY2FyZElkKSk7XG4gIC8vIH1cbn1cbiJdLCJuYW1lcyI6WyJjb25maWciLCJmb3JtU2VsZWN0b3IiLCJpbnB1dFNlbGVjdG9yIiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiaW5wdXRFcnJvckNsYXNzIiwiZXJyb3JDbGFzcyIsIkNhcmQiLCJjb25zdHJ1Y3RvciIsImRhdGEiLCJjYXJkU2VsZWN0b3IiLCJoYW5kbGVJbWFnZUNsaWNrIiwiaGFuZGxlRGVsZXRlQ2xpY2siLCJoYW5kbGVVbmxpa2luZ0ljb24iLCJoYW5kbGVMaWtpbmdJY29uIiwidGhpcyIsIl9kYXRhIiwiX25hbWUiLCJuYW1lIiwiX2xpbmsiLCJsaW5rIiwiX2hhbmRsZUltYWdlQ2xpY2siLCJfaGFuZGxlRGVsZXRlQ2xpY2siLCJfY2FyZFNlbGVjdG9yIiwiaXNMaWtlZCIsIl9pZCIsIl9oYW5kbGVVbmxpa2luZ0ljb24iLCJfaGFuZGxlTGlraW5nSWNvbiIsIl9zZXRFdmVudExpc3RlbmVycyIsIl9saWtlQnV0dG9uIiwiYWRkRXZlbnRMaXN0ZW5lciIsIl9kZWxldGVCdXR0b24iLCJfY2FyZEVsZW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiX2NhcmRJbWFnZSIsIl9zZXRMaWtlU3RhdGUiLCJmaWxsSW5MaWtlSWNvbiIsImNsZWFyTGlrZUljb24iLCJjbGFzc0xpc3QiLCJhZGQiLCJyZW1vdmUiLCJfaGFuZGxlTGlrZUljb24iLCJ0b2dnbGUiLCJoYW5kbGVEZWxldGVDYXJkIiwiZ2V0Q2FyZEVsZW1lbnQiLCJkb2N1bWVudCIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJfY2FyZFRpdGxlIiwic3JjIiwiYWx0IiwidGV4dENvbnRlbnQiLCJGb3JtVmFsaWRhdG9yIiwiX2Zvcm1FbCIsIl9jb25maWciLCJfaW5wdXRTZWxlY3RvciIsIl9pbnB1dEVscyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJfc3VibWl0QnV0dG9uU2VsZWN0b3IiLCJfaW5hY3RpdmVCdXR0b25DbGFzcyIsIl9pbnB1dEVycm9yQ2xhc3MiLCJfZXJyb3JDbGFzcyIsIl9zdWJtaXRCdXR0b24iLCJfc2hvd0lucHV0RXJyb3IiLCJpbnB1dEVsIiwiZXJyb3JNZXNzYWdlRWwiLCJpZCIsInZhbGlkYXRpb25NZXNzYWdlIiwiX2hpZGVJbnB1dEVycm9yIiwiX2NoZWNrSW5wdXRWYWxpZGl0eSIsInZhbGlkaXR5IiwidmFsaWQiLCJfaGFzVmFsaWRJbnB1dCIsImV2ZXJ5IiwiX3RvZ2dsZUJ1dHRvblN0YXRlIiwiZGlzYWJsZWQiLCJmb3JFYWNoIiwiZSIsInJlc2V0VmFsaWRhdGlvbiIsImVuYWJsZVZhbGlkYXRpb24iLCJwcmV2ZW50RGVmYXVsdCIsIlBvcHVwIiwicG9wdXBTZWxlY3RvciIsIl9wb3B1cEVsZW1lbnQiLCJfY2xvc2VCdXR0b24iLCJvcGVuIiwiX2hhbmRsZUVzY0Nsb3NlIiwiY2xvc2UiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwia2V5Iiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJ0YXJnZXQiLCJQb3B1cFdpdGhGb3JtIiwiaGFuZGxlRm9ybVN1Ym1pdCIsInN1cGVyIiwiX3BvcHVwRm9ybSIsIl9oYW5kbGVGb3JtU3VibWl0IiwiX3N1Ym1pdEJ0blRleHQiLCJyZW5kZXJMb2FkaW5nIiwiaXNMb2FkaW5nIiwibG9hZGluZ1RleHQiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJ1bmRlZmluZWQiLCJfZ2V0SW5wdXRWYWx1ZXMiLCJpbnB1dFZhbHVlcyIsImlucHV0IiwidmFsdWUiLCJzZXRJbnB1dFZhbHVlcyIsImFyciIsImkiLCJwcm9maWxlRWRpdEJ1dHRvbiIsImFkZENhcmRGb3JtIiwiYWRkTmV3Q2FyZEJ1dHRvbiIsImVkaXRBdmF0YXJCdXR0b24iLCJhcGkiLCJfcmVmIiwiYmFzZVVybCIsImhlYWRlcnMiLCJfYmFzZVVybCIsIl9oZWFkZXJzIiwiX2NoZWNrUmVzcG9uc2UiLCJyZXMiLCJvayIsImpzb24iLCJQcm9taXNlIiwicmVqZWN0Iiwic3RhdHVzIiwiX3JlcXVlc3QiLCJ1cmwiLCJvcHRpb25zIiwiZmV0Y2giLCJ0aGVuIiwiZ2V0SW5pdGlhbENhcmRzIiwiZ2V0VXNlcnNJbmZvIiwidXBkYXRlUHJvZmlsZUluZm8iLCJfcmVmMiIsInRpdGxlIiwiZGVzY3JpcHRpb24iLCJtZXRob2QiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsImFib3V0IiwidXBkYXRlQXZhdGFyIiwiYXZhdGFyIiwiY3JlYXRlQ2FyZCIsIl9yZWYzIiwibGlrZUNhcmQiLCJjYXJkSWQiLCJkaXNsaWtlQ2FyZCIsImRlbGV0ZUNhcmQiLCJhdXRob3JpemF0aW9uIiwiZWRpdFByb2ZpbGVWYWxpZGF0b3IiLCJhZGRDYXJkVmFsaWRhdG9yIiwiZWRpdEF2YXRhclZhbGlkYXRvciIsImVkaXRQcm9maWxlUG9wdXAiLCJwcm9maWxlVXNlckluZm8iLCJzZXRVc2VySW5mbyIsImNhdGNoIiwiZXJyIiwiY29uc29sZSIsImVycm9yIiwiYWxlcnQiLCJmaW5hbGx5IiwiYWRkQ2FyZFBvcHVwIiwiY2FyZFNlY3Rpb24iLCJhZGRJdGVtIiwicmVzZXQiLCJlZGl0QXZhdGFyUG9wdXAiLCJzZXRVc2VyQXZhdGFyIiwicHJldmlld0ltYWdlUG9wdXAiLCJfaW1hZ2VFbCIsIl9jYXB0aW9uRWwiLCJkZWxldGVDb25maXJtYXRpb25Qb3B1cCIsInNldFN1Ym1pdEhhbmRsZXIiLCJoYW5kbGVyIiwibmFtZVNlbGVjdG9yIiwiam9iU2VsZWN0b3IiLCJhdmF0YXJTZWxlY3RvciIsIl9uYW1lRWwiLCJfam9iRWwiLCJfYXZhdGFyRWwiLCJnZXRVc2VySW5mbyIsImpvYiIsImNhcmQiLCJ1c2VySW5mbyIsImNsYXNzU2VsZWN0b3IiLCJpdGVtcyIsInJlbmRlcmVyIiwiX2l0ZW1zIiwiX3JlbmRlcmVyIiwiX2NvbnRhaW5lciIsImVsZW1lbnQiLCJwcmVwZW5kIiwicmVuZGVySXRlbXMiLCJzZXRJdGVtcyIsImNhcmREYXRhIiwiY2FyZHMiLCJyZXZlcnNlIl0sInNvdXJjZVJvb3QiOiIifQ==